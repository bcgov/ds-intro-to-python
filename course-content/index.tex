% Options for packages loaded elsewhere
\PassOptionsToPackage{unicode}{hyperref}
\PassOptionsToPackage{hyphens}{url}
\PassOptionsToPackage{dvipsnames,svgnames,x11names}{xcolor}
%
\documentclass[
  letterpaper,
  DIV=11,
  numbers=noendperiod]{scrreprt}

\usepackage{amsmath,amssymb}
\usepackage{lmodern}
\usepackage{iftex}
\ifPDFTeX
  \usepackage[T1]{fontenc}
  \usepackage[utf8]{inputenc}
  \usepackage{textcomp} % provide euro and other symbols
\else % if luatex or xetex
  \usepackage{unicode-math}
  \defaultfontfeatures{Scale=MatchLowercase}
  \defaultfontfeatures[\rmfamily]{Ligatures=TeX,Scale=1}
\fi
% Use upquote if available, for straight quotes in verbatim environments
\IfFileExists{upquote.sty}{\usepackage{upquote}}{}
\IfFileExists{microtype.sty}{% use microtype if available
  \usepackage[]{microtype}
  \UseMicrotypeSet[protrusion]{basicmath} % disable protrusion for tt fonts
}{}
\makeatletter
\@ifundefined{KOMAClassName}{% if non-KOMA class
  \IfFileExists{parskip.sty}{%
    \usepackage{parskip}
  }{% else
    \setlength{\parindent}{0pt}
    \setlength{\parskip}{6pt plus 2pt minus 1pt}}
}{% if KOMA class
  \KOMAoptions{parskip=half}}
\makeatother
\usepackage{xcolor}
\setlength{\emergencystretch}{3em} % prevent overfull lines
\setcounter{secnumdepth}{2}
% Make \paragraph and \subparagraph free-standing
\ifx\paragraph\undefined\else
  \let\oldparagraph\paragraph
  \renewcommand{\paragraph}[1]{\oldparagraph{#1}\mbox{}}
\fi
\ifx\subparagraph\undefined\else
  \let\oldsubparagraph\subparagraph
  \renewcommand{\subparagraph}[1]{\oldsubparagraph{#1}\mbox{}}
\fi

\usepackage{color}
\usepackage{fancyvrb}
\newcommand{\VerbBar}{|}
\newcommand{\VERB}{\Verb[commandchars=\\\{\}]}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{commandchars=\\\{\}}
% Add ',fontsize=\small' for more characters per line
\usepackage{framed}
\definecolor{shadecolor}{RGB}{241,243,245}
\newenvironment{Shaded}{\begin{snugshade}}{\end{snugshade}}
\newcommand{\AlertTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\AnnotationTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\AttributeTok}[1]{\textcolor[rgb]{0.40,0.45,0.13}{#1}}
\newcommand{\BaseNTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\BuiltInTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\CharTok}[1]{\textcolor[rgb]{0.13,0.47,0.30}{#1}}
\newcommand{\CommentTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\CommentVarTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textit{#1}}}
\newcommand{\ConstantTok}[1]{\textcolor[rgb]{0.56,0.35,0.01}{#1}}
\newcommand{\ControlFlowTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\DataTypeTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\DecValTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\DocumentationTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textit{#1}}}
\newcommand{\ErrorTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\ExtensionTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\FloatTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\FunctionTok}[1]{\textcolor[rgb]{0.28,0.35,0.67}{#1}}
\newcommand{\ImportTok}[1]{\textcolor[rgb]{0.00,0.46,0.62}{#1}}
\newcommand{\InformationTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\KeywordTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\NormalTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\OperatorTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\OtherTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\PreprocessorTok}[1]{\textcolor[rgb]{0.68,0.00,0.00}{#1}}
\newcommand{\RegionMarkerTok}[1]{\textcolor[rgb]{0.00,0.23,0.31}{#1}}
\newcommand{\SpecialCharTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{#1}}
\newcommand{\SpecialStringTok}[1]{\textcolor[rgb]{0.13,0.47,0.30}{#1}}
\newcommand{\StringTok}[1]{\textcolor[rgb]{0.13,0.47,0.30}{#1}}
\newcommand{\VariableTok}[1]{\textcolor[rgb]{0.07,0.07,0.07}{#1}}
\newcommand{\VerbatimStringTok}[1]{\textcolor[rgb]{0.13,0.47,0.30}{#1}}
\newcommand{\WarningTok}[1]{\textcolor[rgb]{0.37,0.37,0.37}{\textit{#1}}}

\providecommand{\tightlist}{%
  \setlength{\itemsep}{0pt}\setlength{\parskip}{0pt}}\usepackage{longtable,booktabs,array}
\usepackage{calc} % for calculating minipage widths
% Correct order of tables after \paragraph or \subparagraph
\usepackage{etoolbox}
\makeatletter
\patchcmd\longtable{\par}{\if@noskipsec\mbox{}\fi\par}{}{}
\makeatother
% Allow footnotes in longtable head/foot
\IfFileExists{footnotehyper.sty}{\usepackage{footnotehyper}}{\usepackage{footnote}}
\makesavenoteenv{longtable}
\usepackage{graphicx}
\makeatletter
\def\maxwidth{\ifdim\Gin@nat@width>\linewidth\linewidth\else\Gin@nat@width\fi}
\def\maxheight{\ifdim\Gin@nat@height>\textheight\textheight\else\Gin@nat@height\fi}
\makeatother
% Scale images if necessary, so that they will not overflow the page
% margins by default, and it is still possible to overwrite the defaults
% using explicit options in \includegraphics[width, height, ...]{}
\setkeys{Gin}{width=\maxwidth,height=\maxheight,keepaspectratio}
% Set default figure placement to htbp
\makeatletter
\def\fps@figure{htbp}
\makeatother
\newlength{\cslhangindent}
\setlength{\cslhangindent}{1.5em}
\newlength{\csllabelwidth}
\setlength{\csllabelwidth}{3em}
\newlength{\cslentryspacingunit} % times entry-spacing
\setlength{\cslentryspacingunit}{\parskip}
\newenvironment{CSLReferences}[2] % #1 hanging-ident, #2 entry spacing
 {% don't indent paragraphs
  \setlength{\parindent}{0pt}
  % turn on hanging indent if param 1 is 1
  \ifodd #1
  \let\oldpar\par
  \def\par{\hangindent=\cslhangindent\oldpar}
  \fi
  % set entry spacing
  \setlength{\parskip}{#2\cslentryspacingunit}
 }%
 {}
\usepackage{calc}
\newcommand{\CSLBlock}[1]{#1\hfill\break}
\newcommand{\CSLLeftMargin}[1]{\parbox[t]{\csllabelwidth}{#1}}
\newcommand{\CSLRightInline}[1]{\parbox[t]{\linewidth - \csllabelwidth}{#1}\break}
\newcommand{\CSLIndent}[1]{\hspace{\cslhangindent}#1}

\KOMAoption{captions}{tableheading}
\makeatletter
\@ifpackageloaded{tcolorbox}{}{\usepackage[many]{tcolorbox}}
\@ifpackageloaded{fontawesome5}{}{\usepackage{fontawesome5}}
\definecolor{quarto-callout-color}{HTML}{909090}
\definecolor{quarto-callout-note-color}{HTML}{0758E5}
\definecolor{quarto-callout-important-color}{HTML}{CC1914}
\definecolor{quarto-callout-warning-color}{HTML}{EB9113}
\definecolor{quarto-callout-tip-color}{HTML}{00A047}
\definecolor{quarto-callout-caution-color}{HTML}{FC5300}
\definecolor{quarto-callout-color-frame}{HTML}{acacac}
\definecolor{quarto-callout-note-color-frame}{HTML}{4582ec}
\definecolor{quarto-callout-important-color-frame}{HTML}{d9534f}
\definecolor{quarto-callout-warning-color-frame}{HTML}{f0ad4e}
\definecolor{quarto-callout-tip-color-frame}{HTML}{02b875}
\definecolor{quarto-callout-caution-color-frame}{HTML}{fd7e14}
\makeatother
\makeatletter
\makeatother
\makeatletter
\@ifpackageloaded{bookmark}{}{\usepackage{bookmark}}
\makeatother
\makeatletter
\@ifpackageloaded{caption}{}{\usepackage{caption}}
\AtBeginDocument{%
\ifdefined\contentsname
  \renewcommand*\contentsname{Table of contents}
\else
  \newcommand\contentsname{Table of contents}
\fi
\ifdefined\listfigurename
  \renewcommand*\listfigurename{List of Figures}
\else
  \newcommand\listfigurename{List of Figures}
\fi
\ifdefined\listtablename
  \renewcommand*\listtablename{List of Tables}
\else
  \newcommand\listtablename{List of Tables}
\fi
\ifdefined\figurename
  \renewcommand*\figurename{Figure}
\else
  \newcommand\figurename{Figure}
\fi
\ifdefined\tablename
  \renewcommand*\tablename{Table}
\else
  \newcommand\tablename{Table}
\fi
}
\@ifpackageloaded{float}{}{\usepackage{float}}
\floatstyle{ruled}
\@ifundefined{c@chapter}{\newfloat{codelisting}{h}{lop}}{\newfloat{codelisting}{h}{lop}[chapter]}
\floatname{codelisting}{Listing}
\newcommand*\listoflistings{\listof{codelisting}{List of Listings}}
\makeatother
\makeatletter
\@ifpackageloaded{caption}{}{\usepackage{caption}}
\@ifpackageloaded{subcaption}{}{\usepackage{subcaption}}
\makeatother
\makeatletter
\@ifpackageloaded{tcolorbox}{}{\usepackage[many]{tcolorbox}}
\makeatother
\makeatletter
\@ifundefined{shadecolor}{\definecolor{shadecolor}{rgb}{.97, .97, .97}}
\makeatother
\makeatletter
\makeatother
\ifLuaTeX
  \usepackage{selnolig}  % disable illegal ligatures
\fi
\IfFileExists{bookmark.sty}{\usepackage{bookmark}}{\usepackage{hyperref}}
\IfFileExists{xurl.sty}{\usepackage{xurl}}{} % add URL line breaks if available
\urlstyle{same} % disable monospaced font for URLs
\hypersetup{
  pdftitle={Introduction to Data Science using Python},
  pdfauthor={Lindsay Forestell; Stuart Hemerling},
  colorlinks=true,
  linkcolor={blue},
  filecolor={Maroon},
  citecolor={Blue},
  urlcolor={Blue},
  pdfcreator={LaTeX via pandoc}}

\title{Introduction to Data Science using Python}
\author{Lindsay Forestell \and Stuart Hemerling}
\date{2022-10-12}

\begin{document}
\maketitle
\ifdefined\Shaded\renewenvironment{Shaded}{\begin{tcolorbox}[frame hidden, boxrule=0pt, borderline west={3pt}{0pt}{shadecolor}, interior hidden, enhanced, breakable, sharp corners]}{\end{tcolorbox}}\fi

\renewcommand*\contentsname{Table of contents}
{
\hypersetup{linkcolor=}
\setcounter{tocdepth}{3}
\tableofcontents
}
\bookmarksetup{startatroot}

\hypertarget{preface}{%
\chapter*{Preface}\label{preface}}
\addcontentsline{toc}{chapter}{Preface}

This is a Quarto book.

To learn more about Quarto books visit
\url{https://quarto.org/docs/books}.

\begin{figure}

{\centering \includegraphics[width=3.125in,height=\textheight]{./images/introduction-to-python/reproducible.jpeg}

}

\caption{The Messy Side of Data}

\end{figure}

The Messy Side of Data

\bookmarksetup{startatroot}

\hypertarget{introduction-to-python}{%
\chapter{Introduction to Python}\label{introduction-to-python}}

Data has become interwined with the inner workings of nearly every facet
of working within the BC Public Service. Whether you have to read an
excel spreadsheet, prepare a report based on a survey, comb through csv
files to find a specific data source, it is likely that you have worked
with a dataset at some point in your career. However, the process of
looking at and dealing with data can be messy, error-prone and hard to
duplicate. Questions such as \emph{`wait, how did I get that number
again?'} are all too common.

The Messy Side of Data

These lessons will teach you how to interact with data in a systematic
way using the python ecosystem. By accessing and interpreting data
through a set of prescribed methods (developed through the code
written), our work with data becomes more accessible, repeatable, and
ultimately insightful.

During the course of these lessons, we hope to cover:

\begin{itemize}
\tightlist
\item
  Python preliminaries
\item
  Exploring and cleaning raw data
\item
  Using statistical methods
\item
  Plotting results graphically
\end{itemize}

If we have time, we may touch on some more advanced python lessons, such
as:

\begin{itemize}
\tightlist
\item
  Publishing reports
\item
  Accessing the \href{https://catalogue.data.gov.bc.ca/}{B.C. Data
  Catalog}
\item
  Machine learning in python
\end{itemize}

\hypertarget{before-starting}{%
\section{BEFORE STARTING!!}\label{before-starting}}

So that we can hit the ground running with this workshop, we are asking
that everyone get some basic python tools downloaded and installed
\textbf{before} the workshop starts. Tools that we will use include
Anaconda (or Miniconda) as well as VSCode. A basic knowledge of the
command line/powershell interface will be useful as well, but we will
try to keep our use of this to a minimum.

\begin{tcolorbox}[enhanced jigsaw, colframe=quarto-callout-important-color-frame, toprule=.15mm, colback=white, leftrule=.75mm, rightrule=.15mm, breakable, colbacktitle=quarto-callout-important-color!10!white, arc=.35mm, bottomtitle=1mm, bottomrule=.15mm, titlerule=0mm, title=\textcolor{quarto-callout-important-color}{\faExclamation}\hspace{0.5em}{Important}, toptitle=1mm, left=2mm, opacityback=0, coltitle=black, opacitybacktitle=0.6]
If you are having issues installing anything we have requested prior to
the start of the workshop, please let us know so we can work with you so
that we can hit the ground running!
\end{tcolorbox}

\begin{itemize}
\tightlist
\item
  Anaconda/Miniconda is used to download, install, and organize both
  python and any packages/libraries we use within python. The actual
  program doing the organizing is \texttt{conda}, while we will use an
  \texttt{anaconda\ powershell} to do the installs and interface with
  python.
\item
  VSCode is a tool used to write, edit and test code known as an IDE
  (Integrated Development Environment). It is available for more
  languages than just python, and its versatility has made it a
  widespread tool within the BCPS.
\end{itemize}

\hypertarget{install-our-python-tools}{%
\subsection{Install our Python Tools}\label{install-our-python-tools}}

\textbf{If you do not have administrative rights on your computer:}

Download Anaconda and VSCode from the B.C. Government Software Centre:

\begin{itemize}
\tightlist
\item
  Install Anaconda (Anaconda3X64 2022.05 Gen P0)
\item
  Install VSCode (VSCodeX64 1.55.2 Gen P0)
\end{itemize}

\textbf{If you do have administrative rights on your computer:}

\begin{itemize}
\tightlist
\item
  If you have administrative rights on your computer, we suggest
  downloading the lightweight version of Anaconda called Miniconda.

  \begin{itemize}
  \tightlist
  \item
    \href{https://docs.conda.io/projects/continuumio-conda/en/latest/user-guide/install/windows.html}{Link
    to instructions here!}
  \end{itemize}
\item
  \href{https://code.visualstudio.com/download}{Find the latest version
  of VSCode here.}
\end{itemize}

\hypertarget{install-some-python-packages}{%
\subsection{Install some Python
Packages}\label{install-some-python-packages}}

Most of the time, when using python we are not using it by itself, but
in conjunction with powerful libraries that have already been built to
make our data analysis easier. In order to use these tools, we have to
install them as well. Using a package manager such as \texttt{conda}
makes our life much easier, as we can safely install tools into local
environments where every library installed is checked for compatability
with every other library. By utilizing the local conda environments, we
maintain clean working spaces that can be easily reproduced between
workstations.

Let's run through the basic steps of setting up a conda environment,
installing python and some packages, and testing that it worked!

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Open an \texttt{anaconda\ powershell\ prompt} from your search bar.
\end{enumerate}

Powershell Prompt

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{1}
\tightlist
\item
  Inside the \texttt{anaconda\ powershell\ prompt}, create a new local
  conda environment named \texttt{ds-env} using the following commands
  (hit Enter or type Y and hit Enter when asked to proceed):
\end{enumerate}

\textbf{Anaconda Powershell Prompt}

\begin{Shaded}
\begin{Highlighting}[]
\OperatorTok{\textgreater{}}\NormalTok{ conda }\ExtensionTok{create} \AttributeTok{{-}{-}name}\NormalTok{ ds{-}env}
\OperatorTok{\textgreater{}}\NormalTok{ conda }\ExtensionTok{activate}\NormalTok{ ds{-}env}
\end{Highlighting}
\end{Shaded}

Creating a Conda Environment

You should notice that running this second command switches the name in
brackets at the beginning of your prompt from \texttt{(base)} to
\texttt{(ds-env)}. This means we have successfully created a new, empty
environment to work in.

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{2}
\tightlist
\item
  Install \texttt{python} and some useful datascience packages by typing
  the following commands into the same powershell prompt window:
\end{enumerate}

\textbf{Anaconda Powershell Prompt}

\begin{Shaded}
\begin{Highlighting}[]
\OperatorTok{\textgreater{}}\NormalTok{ conda }\FunctionTok{install}\NormalTok{ python=3.9}
\OperatorTok{\textgreater{}}\NormalTok{ conda }\FunctionTok{install}\NormalTok{ notebook jupyterlab ipywidgets matplotlib seaborn numpy scikit{-}learn pandas openpyxl}
\end{Highlighting}
\end{Shaded}

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\setcounter{enumi}{3}
\tightlist
\item
  Make sure that \texttt{python} installed successfully. From the same
  \texttt{anaconda\ powershell\ prompt}, simply type \texttt{python}. If
  this causes no error, success! Try typing this command in the python
  environment that started to make sure the packages installed as well:
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ pandas}
\NormalTok{pandas.\_\_version\_\_}
\end{Highlighting}
\end{Shaded}

Testing the python installation

If this all works with no errors, python was successfully installed.

\hypertarget{setup-our-vscode-environment}{%
\subsection{Setup our VSCode
Environment}\label{setup-our-vscode-environment}}

Still with me? Great. Here's a cute otter as congratulations for making
it this far.

The cutest.

We have just a few more steps to go.

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Open the VSCode program.
\item
  On the left toolbar, find the \texttt{extensions} tab (It looks like 4
  squares). Search for the \texttt{python} extension and install this
  extension.
\item
  For those using Windows computers, change your default terminal to the
  \texttt{command\ prompt}:

  \begin{itemize}
  \tightlist
  \item
    From anywhere inside VSCode, hit Ctrl + Shift + P. This will open up
    the command palette.
  \item
    Start typing \texttt{Terminal:\ Select\ Default\ Profile} until this
    option pops up.
  \item
    Choose this option, and then click on \texttt{Command\ Prompt}
  \end{itemize}
\end{enumerate}

That's it. We are ready to go!

\hypertarget{hello-world}{%
\section{Hello World}\label{hello-world}}

i.e.~the \emph{how many different ways can we print \textbf{Hello
World!} to our screen?} section

Hello World!

There are many different ways in which we can interact with python.
These include:

\begin{itemize}
\tightlist
\item
  From the command line
\item
  Inside a Jupyter Notebook
\item
  From a file (inside VSCode)
\end{itemize}

In this next section, we are going to have a brief introduction to all
of these methods of interaction.

\begin{tcolorbox}[enhanced jigsaw, colframe=quarto-callout-tip-color-frame, toprule=.15mm, colback=white, leftrule=.75mm, rightrule=.15mm, breakable, colbacktitle=quarto-callout-tip-color!10!white, arc=.35mm, bottomtitle=1mm, bottomrule=.15mm, titlerule=0mm, title=\textcolor{quarto-callout-tip-color}{\faLightbulb}\hspace{0.5em}{Tip: Using the command line}, toptitle=1mm, left=2mm, opacityback=0, coltitle=black, opacitybacktitle=0.6]
It's worth pointing out that the methods that we will focus on in this
course will rely on using VSCode or JupyterLab and all of its inner
workings. However, if you are comfortable with the command line, we can
also access any of these methods directly from there as well, you just
need to be able to move to directories before typing commands. If you
use the command line, I recommend using an
\texttt{anaconda\ powershell\ prompt}, as this allows for the easiest
use and access to conda commands and only the smallest of headaches.
\end{tcolorbox}

\hypertarget{step-0}{%
\subsection{Step 0}\label{step-0}}

In all cases, we will want to have a folder from which we wish to work
out of. Take some time to set up a folder somewhere you won't lose it.
For me, I've simply made a folder called \texttt{Intro\ to\ Python} on
my C: drive that will hold any course materials we use/create here.

Next, to make any interactions with python, we will want to open VSCode
and work from here. When we first open VSCode, you should be prompted to
open a folder. We are going to work out of that
\texttt{Intro\ to\ Python} folder, so open it here. After doing this, we
should now have a VSCode screen open that will look something like this:

VS Code

We have 3 main areas that we can utilize:

\begin{itemize}
\tightlist
\item
  To the left (area A): is the current folder and subfolder directory
  list. We can make new files directly from here.
\item
  To the right (area B): this is where files we are working on will
  live. For some file types, preview windows will be available as well.
\item
  To the bottom (area C): this is where we can open and run commands
  from the command line (or terminal).
\end{itemize}

Now remember, we set up a special environment that contains python and
our data science packages. We want to make sure we are always using this
environment, so in the open terminal, re-type
\texttt{conda\ activate\ ds-env} and this terminal will now be open in
this environment. We also want to check that VSCode itself (and not just
the terminal) will use the same environment. We again access the command
palette with Ctrl + Shift + P, and begin typing
\texttt{Python:\ Select\ Interpreter}. Click on this, and choose the
\texttt{ds-env} option. We are good to go!

\begin{tcolorbox}[enhanced jigsaw, colframe=quarto-callout-note-color-frame, toprule=.15mm, colback=white, leftrule=.75mm, rightrule=.15mm, breakable, colbacktitle=quarto-callout-note-color!10!white, arc=.35mm, bottomtitle=1mm, bottomrule=.15mm, titlerule=0mm, title=\textcolor{quarto-callout-note-color}{\faInfo}\hspace{0.5em}{Conda Environments}, toptitle=1mm, left=2mm, opacityback=0, coltitle=black, opacitybacktitle=0.6]
Although it does add an extra level of set-up whenever we start a python
project, having these conda environments ends up being incredibly
important for not only reproducibility, but making sure that packages
work well together. When in doubt as to if you are using the correct
environment, double check that the terminal you are using has
\texttt{(ds-env)} in brackets at the start of a line.
\end{tcolorbox}

\hypertarget{from-the-command-lineterminal}{%
\subsection{From the command
line/terminal}\label{from-the-command-lineterminal}}

Let's start with an easy one. To start a python session from a terminal,
simply type \texttt{python} at the command line, and the terminal will
automatically open a python interface. You will know you are inside the
python interface if your command lines now start with
\texttt{\textgreater{}\textgreater{}\textgreater{}}. Now, let's do the
classic \texttt{Hello\ World} command for python:

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(}\StringTok{\textquotesingle{}Hello World!\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
Hello World!
\end{verbatim}

To exit the python interface and return to the regular terminal, you can
type \texttt{exit()} and return to the terminal.

\hypertarget{from-a-file-in-vscode}{%
\subsection{From a file (in VSCode)}\label{from-a-file-in-vscode}}

Next up, let's run an entire python file to tell us hello. Inside our
directory, create a new file called \texttt{hello\_world.py}. Note that
\texttt{.py} extension - this signifies that the content inside will be
python code. Inside this file, let's have two lines of code:

\textbf{hello\_world.py}

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(}\StringTok{"Hello World!"}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(}\StringTok{"Otters are the best animal."}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

To run this code, first save the file, and then simply click the play
button (triangle in the top right!). Note that this will display an
output in a terminal at the bottom of VSCode. VSCode takes the python
file you told it to run, and will run every line of code individually.
Thus, we get two lines of output for the two print statements.

But wait, there's more! In VSCode we can run individual lines of code
within a file as well. Simply move your cursor to the line you wish to
run, and hit Shift+Enter.

Note the difference here. Instead of running the entire file, VSCode
actually opened up a python window inside our terminal, and ran the
single line of code, just like we did before.

\hypertarget{challenge-1}{%
\subsubsection{Challenge 1}\label{challenge-1}}

\begin{quote}
Run the other line of code, and then add and run third line of code that
prints your favourite TV show.

Solution to Challenge 1

hit Shift+Enter while the cursor is on the other line of code. Add a
line of code such as:

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(}\StringTok{"C\textquotesingle{}mon son! You know the best show is Psych!"}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

Save the file, and again press Shift+Enter while on this line.
\end{quote}

\hypertarget{challenge-2}{%
\subsubsection{Challenge 2}\label{challenge-2}}

\begin{quote}
Try clicking the play button again. What happens here? Can you explain
why?

Solution to Challenge 2

An error will occur in the terminal. This is because VSCode tried to run
the entire program again, but from inside an already open python program
(which we opened when we ran a single line using the Shift+Enter
method). To fix this, we can either \texttt{exit()} the current python
execution in the current terminal, or Kill/Delete the open terminal.
This button can be found by hovering over the \texttt{Python} symbol at
the right hand side of the terminals.
\end{quote}

\hypertarget{from-jupyterlab}{%
\subsection{From JupyterLab}\label{from-jupyterlab}}

JupyterLab is an application with a web-based user interface that
enables one to work with documents and activities such as Jupyter
notebooks, text editors, terminals, and even custom components in a
flexible, integrated, and extensible manner.

To start JupyterLab, you can use \texttt{Anaconda\ Navigator}, a GUI
that comes packaged with \texttt{Anaconda} if you wish. However it is
nearly always easier to access it from the command line. Inside VSCode,
navigate to a new terminal.

\begin{tcolorbox}[enhanced jigsaw, colframe=quarto-callout-note-color-frame, toprule=.15mm, colback=white, leftrule=.75mm, rightrule=.15mm, breakable, colbacktitle=quarto-callout-note-color!10!white, arc=.35mm, bottomtitle=1mm, bottomrule=.15mm, titlerule=0mm, title=\textcolor{quarto-callout-note-color}{\faInfo}\hspace{0.5em}{Conda Reminder!}, toptitle=1mm, left=2mm, opacityback=0, coltitle=black, opacitybacktitle=0.6]
Make sure that you double check that this new terminal is opened with
the \texttt{ds-env}!
\end{tcolorbox}

From the terminal, to launch a new JupyterLab session, simply type:

\textbf{terminal}

\begin{Shaded}
\begin{Highlighting}[]
\OperatorTok{\textgreater{}}\NormalTok{ jupyter }\ExtensionTok{lab}
\end{Highlighting}
\end{Shaded}

This should open up a screen that looks something like this:

JupyterLab

\begin{tcolorbox}[enhanced jigsaw, colframe=quarto-callout-tip-color-frame, toprule=.15mm, colback=white, leftrule=.75mm, rightrule=.15mm, breakable, colbacktitle=quarto-callout-tip-color!10!white, arc=.35mm, bottomtitle=1mm, bottomrule=.15mm, titlerule=0mm, title=\textcolor{quarto-callout-tip-color}{\faLightbulb}\hspace{0.5em}{Fun Fact}, toptitle=1mm, left=2mm, opacityback=0, coltitle=black, opacitybacktitle=0.6]
You might have noticed by this point that the author of this section
prefers dark mode. So if any of your programs are popping up in a
different/lighter colour scheme, that's okay!
\end{tcolorbox}

We will be using the JupyterLab interface quite a bit, so let's get used
to the key pieces. Similar to VSCode, we have a few key areas to
utilize:

\begin{itemize}
\item
  On the left (area A), we have the sidebar that contains commonly used
  tabs. These include the file directory system (which defaults to the
  folder from which the session was launched), a list of open files,
  running kernels and terminals, a table of contents for any markdown
  that is written, and possibly a set of extensions.
\item
  On the right (area B), we have the main work area, where we can open
  new notebooks, terminals, files, etc. Here, when we have multiple open
  tabs, we can drag them around the main area to produce smaller panels
  displaying multiple pieces of work.
\end{itemize}

Generally speaking, we will be using Jupyter Notebooks, which have a
\texttt{.ipynb} file extension. Like python files, these notebooks can
run python code. However, they also support markdown (text that can be
added to support source code with explanations) as well as inline
viewing of data tables, plots and more. This allows us to mix source
code, text and images all in one file that we can quickly use for
anything such as:

\begin{itemize}
\tightlist
\item
  Answering `how did I get this number in that report?'
\item
  Looking at the number.
\item
  Updating the number with an updated dataset.
\item
  Plotting the number with other numbers, and then looking at all of
  those numbers.
\end{itemize}

Let's open up a notebook (click the \texttt{Python\ 3} icon underneath
the Notebook heading). This will open up a new tab called
\texttt{Untitled.ipynb}.

\hypertarget{challenge-3}{%
\subsubsection{Challenge 3}\label{challenge-3}}

\begin{quote}
Rename the notebook to \texttt{hello\_world.ipynb}.

Solution to Challenge 3

On either the tab to the top, or the filename that popped up on the left
panel, right click the file \texttt{Untitled.ipynb} and click
\texttt{Rename\ notebook...}. Enter your new name here.
\end{quote}

In this new file, we have a single blue box (this is a single
\texttt{cell}). We can type multiple lines of code inside a single cell.
Within the blue box, pressing Enter will let you add a new line to the
cell. To execute a cell, we press Shift+Enter. This will execute every
line of code within that cell. If there is output to display, it will
display in the space directly below the cell. Pressing the \texttt{+} at
the top of the tab will add a new cell (as will running the bottom-most
cell). The `active' cell will always be the one that is highlighted with
a blue box.

\hypertarget{challenge-4}{%
\subsubsection{Challenge 4}\label{challenge-4}}

\begin{quote}
Print `Hello World' inside the Jupyter Notebook.

Solution to Challenge 4

Inside the blue box, write the python code:

\begin{Shaded}
\begin{Highlighting}[]
\BuiltInTok{print}\NormalTok{(}\StringTok{\textquotesingle{}Hello World!\textquotesingle{}}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

While still on this cell (highlighted in blue), press Shift+Enter. We
should see the output directly below!
\end{quote}

When we are done with a JupyterLab session, we must shutdown the server.
From the Menu Bar select the \texttt{File} menu and then choose
\texttt{Shut\ Down} at the bottom of the dropdown menu. You will be
prompted to confirm that you wish to shutdown the JupyterLab server
(don't forget to save your work!). Click \texttt{Shut\ Down} to shutdown
the JupyterLab server.

\begin{tcolorbox}[enhanced jigsaw, colframe=quarto-callout-note-color-frame, toprule=.15mm, colback=white, leftrule=.75mm, rightrule=.15mm, breakable, colbacktitle=quarto-callout-note-color!10!white, arc=.35mm, bottomtitle=1mm, bottomrule=.15mm, titlerule=0mm, title=\textcolor{quarto-callout-note-color}{\faInfo}\hspace{0.5em}{JupyterLab and Us!}, toptitle=1mm, left=2mm, opacityback=0, coltitle=black, opacitybacktitle=0.6]
We will be using JupyterLab for the vast majority of our work throughout
this course because of the ease of use in writing and executing code all
in one place. Make sure you are comfortable with:

\begin{itemize}
\tightlist
\item
  opening JupyterLab to a specific folder
\item
  creating and renaming notebooks
\item
  adding python code to multiple cells within a notebook
\item
  executing entire code blocks
\end{itemize}

If you are unsure about any of these pieces, please ask for help!
\end{tcolorbox}

\bookmarksetup{startatroot}

\hypertarget{exploring-data-structures}{%
\chapter{Exploring Data Structures}\label{exploring-data-structures}}

Stuart Hemerling

\hfill\break

Getting a high level summary of the data is important but data is
particularly valuable when refined. Your analysis will start to come
alive when we start to do some slicing and dicing and grouping of data
or even creating additional variables. In an Excel world, this is like
when you use filter options for columns, or create pivot tables, or when
you create a formula in a new column to create a new variable. In data
science parlance, this is the kind of thing that is referred to as
\texttt{data\ wrangling} - getting the (already cleaned) data you want
in the form you want it in.

In the world of python, this usually means working with a library or
package you have already been introduced to called pandas. It let's you
do so much!

The first dataset we'll look at is one that looks at data for countries
around the world and shows population levels as well as gdp per capita
over a number of years. It is a great data set to look at. Let's import
the pandas library and then use the \texttt{.read\_csv()} function to
get some population by country data.

\begin{Shaded}
\begin{Highlighting}[]
\ImportTok{import}\NormalTok{ pandas }\ImportTok{as}\NormalTok{ pd}
\NormalTok{url }\OperatorTok{=} \StringTok{"https://raw.githubusercontent.com/bcgov/ds{-}intro{-}to{-}python/main/data/gapfinder.csv"}
\NormalTok{df }\OperatorTok{=}\NormalTok{ pd.read\_csv(url)}
\end{Highlighting}
\end{Shaded}

It's usually a good idea right away to take a quick look at the data to
make sure what we have read in makes sense. The \texttt{.info()} method
prints the number of columns, column labels, column data types, memory
usage, range index, and the number of cells in each column (non-null
values).

\begin{tcolorbox}[enhanced jigsaw, colframe=quarto-callout-tip-color-frame, toprule=.15mm, colback=white, leftrule=.75mm, rightrule=.15mm, breakable, colbacktitle=quarto-callout-tip-color!10!white, arc=.35mm, bottomtitle=1mm, bottomrule=.15mm, titlerule=0mm, title=\textcolor{quarto-callout-tip-color}{\faLightbulb}\hspace{0.5em}{Reminder: Naming variables!}, toptitle=1mm, left=2mm, opacityback=0, coltitle=black, opacitybacktitle=0.6]
When you create a variable or object, you can name it pretty much
whatever you want. You will see widespread use of the name ``df''. Apart
from ``df'', it is considered good practice to name dataframes something
that is at the same time intuitive but not overly verbose. Also remember
to not leave spaces in your names, and to always be consistent in the
naming conventions you use (e.g.~camelCase, underscore\_case, etc.)
\end{tcolorbox}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.info()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
<class 'pandas.core.frame.DataFrame'>
RangeIndex: 1704 entries, 0 to 1703
Data columns (total 6 columns):
 #   Column     Non-Null Count  Dtype  
---  ------     --------------  -----  
 0   country    1704 non-null   object 
 1   year       1704 non-null   int64  
 2   pop        1704 non-null   float64
 3   continent  1704 non-null   object 
 4   lifeExp    1704 non-null   float64
 5   gdpPercap  1704 non-null   float64
dtypes: float64(3), int64(1), object(2)
memory usage: 80.0+ KB
\end{verbatim}

So this data is looking good so far. We can see that we have created a
pandas dataframe within our python environment. There are 1704 rows of
data and six columns or variables. You can see there are only non-null
values\ldots{} so happily there is no missing data to worry about.

The \texttt{.head()} pandas method let's us look at actual data as one
does in Excel.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.head(}\DecValTok{2}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
C:\Users\shemerli\Anaconda3\envs\ds-env\lib\site-packages\IPython\core\formatters.py:343: FutureWarning: In future versions `DataFrame.to_latex` is expected to utilise the base implementation of `Styler.to_latex` for formatting and rendering. The arguments signature may therefore change. It is recommended instead to use `DataFrame.style.to_latex` which also contains additional functionality.
  return method()
\end{verbatim}

\begin{tabular}{llrrlrr}
\toprule
{} &      country &  year &        pop & continent &  lifeExp &   gdpPercap \\
\midrule
0 &  Afghanistan &  1952 &  8425333.0 &      Asia &   28.801 &  779.445314 \\
1 &  Afghanistan &  1957 &  9240934.0 &      Asia &   30.332 &  820.853030 \\
\bottomrule
\end{tabular}

This dataset has some high level country metrics about population and
the economy going back to 1952.

\hypertarget{selecting-columns-variables}{%
\section{Selecting columns
(variables)}\label{selecting-columns-variables}}

In the ``real world'' of data it is not uncommon to see hundreds or even
thousands of columns in a single dataframe, so knowing how to pare down
our dataset so it is not overly bloated is important.

Selecting Columns

First things first. If we want to look the contents of a single column,
we could do it like this, specifying the column name after the . without
parentheses:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.country}
\end{Highlighting}
\end{Shaded}

\begin{tabular}{ll}
\toprule
{} &                   country \\
\midrule
0    &               Afghanistan \\
1    &               Afghanistan \\
2    &               Afghanistan \\
3    &               Afghanistan \\
4    &               Afghanistan \\
5    &               Afghanistan \\
6    &               Afghanistan \\
7    &               Afghanistan \\
8    &               Afghanistan \\
9    &               Afghanistan \\
10   &               Afghanistan \\
11   &               Afghanistan \\
12   &                   Albania \\
13   &                   Albania \\
14   &                   Albania \\
15   &                   Albania \\
16   &                   Albania \\
17   &                   Albania \\
18   &                   Albania \\
19   &                   Albania \\
20   &                   Albania \\
21   &                   Albania \\
22   &                   Albania \\
23   &                   Albania \\
24   &                   Algeria \\
25   &                   Algeria \\
26   &                   Algeria \\
27   &                   Algeria \\
28   &                   Algeria \\
29   &                   Algeria \\
30   &                   Algeria \\
31   &                   Algeria \\
32   &                   Algeria \\
33   &                   Algeria \\
34   &                   Algeria \\
35   &                   Algeria \\
36   &                    Angola \\
37   &                    Angola \\
38   &                    Angola \\
39   &                    Angola \\
40   &                    Angola \\
41   &                    Angola \\
42   &                    Angola \\
43   &                    Angola \\
44   &                    Angola \\
45   &                    Angola \\
46   &                    Angola \\
47   &                    Angola \\
48   &                 Argentina \\
49   &                 Argentina \\
50   &                 Argentina \\
51   &                 Argentina \\
52   &                 Argentina \\
53   &                 Argentina \\
54   &                 Argentina \\
55   &                 Argentina \\
56   &                 Argentina \\
57   &                 Argentina \\
58   &                 Argentina \\
59   &                 Argentina \\
60   &                 Australia \\
61   &                 Australia \\
62   &                 Australia \\
63   &                 Australia \\
64   &                 Australia \\
65   &                 Australia \\
66   &                 Australia \\
67   &                 Australia \\
68   &                 Australia \\
69   &                 Australia \\
70   &                 Australia \\
71   &                 Australia \\
72   &                   Austria \\
73   &                   Austria \\
74   &                   Austria \\
75   &                   Austria \\
76   &                   Austria \\
77   &                   Austria \\
78   &                   Austria \\
79   &                   Austria \\
80   &                   Austria \\
81   &                   Austria \\
82   &                   Austria \\
83   &                   Austria \\
84   &                   Bahrain \\
85   &                   Bahrain \\
86   &                   Bahrain \\
87   &                   Bahrain \\
88   &                   Bahrain \\
89   &                   Bahrain \\
90   &                   Bahrain \\
91   &                   Bahrain \\
92   &                   Bahrain \\
93   &                   Bahrain \\
94   &                   Bahrain \\
95   &                   Bahrain \\
96   &                Bangladesh \\
97   &                Bangladesh \\
98   &                Bangladesh \\
99   &                Bangladesh \\
100  &                Bangladesh \\
101  &                Bangladesh \\
102  &                Bangladesh \\
103  &                Bangladesh \\
104  &                Bangladesh \\
105  &                Bangladesh \\
106  &                Bangladesh \\
107  &                Bangladesh \\
108  &                   Belgium \\
109  &                   Belgium \\
110  &                   Belgium \\
111  &                   Belgium \\
112  &                   Belgium \\
113  &                   Belgium \\
114  &                   Belgium \\
115  &                   Belgium \\
116  &                   Belgium \\
117  &                   Belgium \\
118  &                   Belgium \\
119  &                   Belgium \\
120  &                     Benin \\
121  &                     Benin \\
122  &                     Benin \\
123  &                     Benin \\
124  &                     Benin \\
125  &                     Benin \\
126  &                     Benin \\
127  &                     Benin \\
128  &                     Benin \\
129  &                     Benin \\
130  &                     Benin \\
131  &                     Benin \\
132  &                   Bolivia \\
133  &                   Bolivia \\
134  &                   Bolivia \\
135  &                   Bolivia \\
136  &                   Bolivia \\
137  &                   Bolivia \\
138  &                   Bolivia \\
139  &                   Bolivia \\
140  &                   Bolivia \\
141  &                   Bolivia \\
142  &                   Bolivia \\
143  &                   Bolivia \\
144  &    Bosnia and Herzegovina \\
145  &    Bosnia and Herzegovina \\
146  &    Bosnia and Herzegovina \\
147  &    Bosnia and Herzegovina \\
148  &    Bosnia and Herzegovina \\
149  &    Bosnia and Herzegovina \\
150  &    Bosnia and Herzegovina \\
151  &    Bosnia and Herzegovina \\
152  &    Bosnia and Herzegovina \\
153  &    Bosnia and Herzegovina \\
154  &    Bosnia and Herzegovina \\
155  &    Bosnia and Herzegovina \\
156  &                  Botswana \\
157  &                  Botswana \\
158  &                  Botswana \\
159  &                  Botswana \\
160  &                  Botswana \\
161  &                  Botswana \\
162  &                  Botswana \\
163  &                  Botswana \\
164  &                  Botswana \\
165  &                  Botswana \\
166  &                  Botswana \\
167  &                  Botswana \\
168  &                    Brazil \\
169  &                    Brazil \\
170  &                    Brazil \\
171  &                    Brazil \\
172  &                    Brazil \\
173  &                    Brazil \\
174  &                    Brazil \\
175  &                    Brazil \\
176  &                    Brazil \\
177  &                    Brazil \\
178  &                    Brazil \\
179  &                    Brazil \\
180  &                  Bulgaria \\
181  &                  Bulgaria \\
182  &                  Bulgaria \\
183  &                  Bulgaria \\
184  &                  Bulgaria \\
185  &                  Bulgaria \\
186  &                  Bulgaria \\
187  &                  Bulgaria \\
188  &                  Bulgaria \\
189  &                  Bulgaria \\
190  &                  Bulgaria \\
191  &                  Bulgaria \\
192  &              Burkina Faso \\
193  &              Burkina Faso \\
194  &              Burkina Faso \\
195  &              Burkina Faso \\
196  &              Burkina Faso \\
197  &              Burkina Faso \\
198  &              Burkina Faso \\
199  &              Burkina Faso \\
200  &              Burkina Faso \\
201  &              Burkina Faso \\
202  &              Burkina Faso \\
203  &              Burkina Faso \\
204  &                   Burundi \\
205  &                   Burundi \\
206  &                   Burundi \\
207  &                   Burundi \\
208  &                   Burundi \\
209  &                   Burundi \\
210  &                   Burundi \\
211  &                   Burundi \\
212  &                   Burundi \\
213  &                   Burundi \\
214  &                   Burundi \\
215  &                   Burundi \\
216  &                  Cambodia \\
217  &                  Cambodia \\
218  &                  Cambodia \\
219  &                  Cambodia \\
220  &                  Cambodia \\
221  &                  Cambodia \\
222  &                  Cambodia \\
223  &                  Cambodia \\
224  &                  Cambodia \\
225  &                  Cambodia \\
226  &                  Cambodia \\
227  &                  Cambodia \\
228  &                  Cameroon \\
229  &                  Cameroon \\
230  &                  Cameroon \\
231  &                  Cameroon \\
232  &                  Cameroon \\
233  &                  Cameroon \\
234  &                  Cameroon \\
235  &                  Cameroon \\
236  &                  Cameroon \\
237  &                  Cameroon \\
238  &                  Cameroon \\
239  &                  Cameroon \\
240  &                    Canada \\
241  &                    Canada \\
242  &                    Canada \\
243  &                    Canada \\
244  &                    Canada \\
245  &                    Canada \\
246  &                    Canada \\
247  &                    Canada \\
248  &                    Canada \\
249  &                    Canada \\
250  &                    Canada \\
251  &                    Canada \\
252  &  Central African Republic \\
253  &  Central African Republic \\
254  &  Central African Republic \\
255  &  Central African Republic \\
256  &  Central African Republic \\
257  &  Central African Republic \\
258  &  Central African Republic \\
259  &  Central African Republic \\
260  &  Central African Republic \\
261  &  Central African Republic \\
262  &  Central African Republic \\
263  &  Central African Republic \\
264  &                      Chad \\
265  &                      Chad \\
266  &                      Chad \\
267  &                      Chad \\
268  &                      Chad \\
269  &                      Chad \\
270  &                      Chad \\
271  &                      Chad \\
272  &                      Chad \\
273  &                      Chad \\
274  &                      Chad \\
275  &                      Chad \\
276  &                     Chile \\
277  &                     Chile \\
278  &                     Chile \\
279  &                     Chile \\
280  &                     Chile \\
281  &                     Chile \\
282  &                     Chile \\
283  &                     Chile \\
284  &                     Chile \\
285  &                     Chile \\
286  &                     Chile \\
287  &                     Chile \\
288  &                     China \\
289  &                     China \\
290  &                     China \\
291  &                     China \\
292  &                     China \\
293  &                     China \\
294  &                     China \\
295  &                     China \\
296  &                     China \\
297  &                     China \\
298  &                     China \\
299  &                     China \\
300  &                  Colombia \\
301  &                  Colombia \\
302  &                  Colombia \\
303  &                  Colombia \\
304  &                  Colombia \\
305  &                  Colombia \\
306  &                  Colombia \\
307  &                  Colombia \\
308  &                  Colombia \\
309  &                  Colombia \\
310  &                  Colombia \\
311  &                  Colombia \\
312  &                   Comoros \\
313  &                   Comoros \\
314  &                   Comoros \\
315  &                   Comoros \\
316  &                   Comoros \\
317  &                   Comoros \\
318  &                   Comoros \\
319  &                   Comoros \\
320  &                   Comoros \\
321  &                   Comoros \\
322  &                   Comoros \\
323  &                   Comoros \\
324  &           Congo Dem. Rep. \\
325  &           Congo Dem. Rep. \\
326  &           Congo Dem. Rep. \\
327  &           Congo Dem. Rep. \\
328  &           Congo Dem. Rep. \\
329  &           Congo Dem. Rep. \\
330  &           Congo Dem. Rep. \\
331  &           Congo Dem. Rep. \\
332  &           Congo Dem. Rep. \\
333  &           Congo Dem. Rep. \\
334  &           Congo Dem. Rep. \\
335  &           Congo Dem. Rep. \\
336  &                Congo Rep. \\
337  &                Congo Rep. \\
338  &                Congo Rep. \\
339  &                Congo Rep. \\
340  &                Congo Rep. \\
341  &                Congo Rep. \\
342  &                Congo Rep. \\
343  &                Congo Rep. \\
344  &                Congo Rep. \\
345  &                Congo Rep. \\
346  &                Congo Rep. \\
347  &                Congo Rep. \\
348  &                Costa Rica \\
349  &                Costa Rica \\
350  &                Costa Rica \\
351  &                Costa Rica \\
352  &                Costa Rica \\
353  &                Costa Rica \\
354  &                Costa Rica \\
355  &                Costa Rica \\
356  &                Costa Rica \\
357  &                Costa Rica \\
358  &                Costa Rica \\
359  &                Costa Rica \\
360  &             Cote d'Ivoire \\
361  &             Cote d'Ivoire \\
362  &             Cote d'Ivoire \\
363  &             Cote d'Ivoire \\
364  &             Cote d'Ivoire \\
365  &             Cote d'Ivoire \\
366  &             Cote d'Ivoire \\
367  &             Cote d'Ivoire \\
368  &             Cote d'Ivoire \\
369  &             Cote d'Ivoire \\
370  &             Cote d'Ivoire \\
371  &             Cote d'Ivoire \\
372  &                   Croatia \\
373  &                   Croatia \\
374  &                   Croatia \\
375  &                   Croatia \\
376  &                   Croatia \\
377  &                   Croatia \\
378  &                   Croatia \\
379  &                   Croatia \\
380  &                   Croatia \\
381  &                   Croatia \\
382  &                   Croatia \\
383  &                   Croatia \\
384  &                      Cuba \\
385  &                      Cuba \\
386  &                      Cuba \\
387  &                      Cuba \\
388  &                      Cuba \\
389  &                      Cuba \\
390  &                      Cuba \\
391  &                      Cuba \\
392  &                      Cuba \\
393  &                      Cuba \\
394  &                      Cuba \\
395  &                      Cuba \\
396  &            Czech Republic \\
397  &            Czech Republic \\
398  &            Czech Republic \\
399  &            Czech Republic \\
400  &            Czech Republic \\
401  &            Czech Republic \\
402  &            Czech Republic \\
403  &            Czech Republic \\
404  &            Czech Republic \\
405  &            Czech Republic \\
406  &            Czech Republic \\
407  &            Czech Republic \\
408  &                   Denmark \\
409  &                   Denmark \\
410  &                   Denmark \\
411  &                   Denmark \\
412  &                   Denmark \\
413  &                   Denmark \\
414  &                   Denmark \\
415  &                   Denmark \\
416  &                   Denmark \\
417  &                   Denmark \\
418  &                   Denmark \\
419  &                   Denmark \\
420  &                  Djibouti \\
421  &                  Djibouti \\
422  &                  Djibouti \\
423  &                  Djibouti \\
424  &                  Djibouti \\
425  &                  Djibouti \\
426  &                  Djibouti \\
427  &                  Djibouti \\
428  &                  Djibouti \\
429  &                  Djibouti \\
430  &                  Djibouti \\
431  &                  Djibouti \\
432  &        Dominican Republic \\
433  &        Dominican Republic \\
434  &        Dominican Republic \\
435  &        Dominican Republic \\
436  &        Dominican Republic \\
437  &        Dominican Republic \\
438  &        Dominican Republic \\
439  &        Dominican Republic \\
440  &        Dominican Republic \\
441  &        Dominican Republic \\
442  &        Dominican Republic \\
443  &        Dominican Republic \\
444  &                   Ecuador \\
445  &                   Ecuador \\
446  &                   Ecuador \\
447  &                   Ecuador \\
448  &                   Ecuador \\
449  &                   Ecuador \\
450  &                   Ecuador \\
451  &                   Ecuador \\
452  &                   Ecuador \\
453  &                   Ecuador \\
454  &                   Ecuador \\
455  &                   Ecuador \\
456  &                     Egypt \\
457  &                     Egypt \\
458  &                     Egypt \\
459  &                     Egypt \\
460  &                     Egypt \\
461  &                     Egypt \\
462  &                     Egypt \\
463  &                     Egypt \\
464  &                     Egypt \\
465  &                     Egypt \\
466  &                     Egypt \\
467  &                     Egypt \\
468  &               El Salvador \\
469  &               El Salvador \\
470  &               El Salvador \\
471  &               El Salvador \\
472  &               El Salvador \\
473  &               El Salvador \\
474  &               El Salvador \\
475  &               El Salvador \\
476  &               El Salvador \\
477  &               El Salvador \\
478  &               El Salvador \\
479  &               El Salvador \\
480  &         Equatorial Guinea \\
481  &         Equatorial Guinea \\
482  &         Equatorial Guinea \\
483  &         Equatorial Guinea \\
484  &         Equatorial Guinea \\
485  &         Equatorial Guinea \\
486  &         Equatorial Guinea \\
487  &         Equatorial Guinea \\
488  &         Equatorial Guinea \\
489  &         Equatorial Guinea \\
490  &         Equatorial Guinea \\
491  &         Equatorial Guinea \\
492  &                   Eritrea \\
493  &                   Eritrea \\
494  &                   Eritrea \\
495  &                   Eritrea \\
496  &                   Eritrea \\
497  &                   Eritrea \\
498  &                   Eritrea \\
499  &                   Eritrea \\
500  &                   Eritrea \\
501  &                   Eritrea \\
502  &                   Eritrea \\
503  &                   Eritrea \\
504  &                  Ethiopia \\
505  &                  Ethiopia \\
506  &                  Ethiopia \\
507  &                  Ethiopia \\
508  &                  Ethiopia \\
509  &                  Ethiopia \\
510  &                  Ethiopia \\
511  &                  Ethiopia \\
512  &                  Ethiopia \\
513  &                  Ethiopia \\
514  &                  Ethiopia \\
515  &                  Ethiopia \\
516  &                   Finland \\
517  &                   Finland \\
518  &                   Finland \\
519  &                   Finland \\
520  &                   Finland \\
521  &                   Finland \\
522  &                   Finland \\
523  &                   Finland \\
524  &                   Finland \\
525  &                   Finland \\
526  &                   Finland \\
527  &                   Finland \\
528  &                    France \\
529  &                    France \\
530  &                    France \\
531  &                    France \\
532  &                    France \\
533  &                    France \\
534  &                    France \\
535  &                    France \\
536  &                    France \\
537  &                    France \\
538  &                    France \\
539  &                    France \\
540  &                     Gabon \\
541  &                     Gabon \\
542  &                     Gabon \\
543  &                     Gabon \\
544  &                     Gabon \\
545  &                     Gabon \\
546  &                     Gabon \\
547  &                     Gabon \\
548  &                     Gabon \\
549  &                     Gabon \\
550  &                     Gabon \\
551  &                     Gabon \\
552  &                    Gambia \\
553  &                    Gambia \\
554  &                    Gambia \\
555  &                    Gambia \\
556  &                    Gambia \\
557  &                    Gambia \\
558  &                    Gambia \\
559  &                    Gambia \\
560  &                    Gambia \\
561  &                    Gambia \\
562  &                    Gambia \\
563  &                    Gambia \\
564  &                   Germany \\
565  &                   Germany \\
566  &                   Germany \\
567  &                   Germany \\
568  &                   Germany \\
569  &                   Germany \\
570  &                   Germany \\
571  &                   Germany \\
572  &                   Germany \\
573  &                   Germany \\
574  &                   Germany \\
575  &                   Germany \\
576  &                     Ghana \\
577  &                     Ghana \\
578  &                     Ghana \\
579  &                     Ghana \\
580  &                     Ghana \\
581  &                     Ghana \\
582  &                     Ghana \\
583  &                     Ghana \\
584  &                     Ghana \\
585  &                     Ghana \\
586  &                     Ghana \\
587  &                     Ghana \\
588  &                    Greece \\
589  &                    Greece \\
590  &                    Greece \\
591  &                    Greece \\
592  &                    Greece \\
593  &                    Greece \\
594  &                    Greece \\
595  &                    Greece \\
596  &                    Greece \\
597  &                    Greece \\
598  &                    Greece \\
599  &                    Greece \\
600  &                 Guatemala \\
601  &                 Guatemala \\
602  &                 Guatemala \\
603  &                 Guatemala \\
604  &                 Guatemala \\
605  &                 Guatemala \\
606  &                 Guatemala \\
607  &                 Guatemala \\
608  &                 Guatemala \\
609  &                 Guatemala \\
610  &                 Guatemala \\
611  &                 Guatemala \\
612  &                    Guinea \\
613  &                    Guinea \\
614  &                    Guinea \\
615  &                    Guinea \\
616  &                    Guinea \\
617  &                    Guinea \\
618  &                    Guinea \\
619  &                    Guinea \\
620  &                    Guinea \\
621  &                    Guinea \\
622  &                    Guinea \\
623  &                    Guinea \\
624  &             Guinea-Bissau \\
625  &             Guinea-Bissau \\
626  &             Guinea-Bissau \\
627  &             Guinea-Bissau \\
628  &             Guinea-Bissau \\
629  &             Guinea-Bissau \\
630  &             Guinea-Bissau \\
631  &             Guinea-Bissau \\
632  &             Guinea-Bissau \\
633  &             Guinea-Bissau \\
634  &             Guinea-Bissau \\
635  &             Guinea-Bissau \\
636  &                     Haiti \\
637  &                     Haiti \\
638  &                     Haiti \\
639  &                     Haiti \\
640  &                     Haiti \\
641  &                     Haiti \\
642  &                     Haiti \\
643  &                     Haiti \\
644  &                     Haiti \\
645  &                     Haiti \\
646  &                     Haiti \\
647  &                     Haiti \\
648  &                  Honduras \\
649  &                  Honduras \\
650  &                  Honduras \\
651  &                  Honduras \\
652  &                  Honduras \\
653  &                  Honduras \\
654  &                  Honduras \\
655  &                  Honduras \\
656  &                  Honduras \\
657  &                  Honduras \\
658  &                  Honduras \\
659  &                  Honduras \\
660  &           Hong Kong China \\
661  &           Hong Kong China \\
662  &           Hong Kong China \\
663  &           Hong Kong China \\
664  &           Hong Kong China \\
665  &           Hong Kong China \\
666  &           Hong Kong China \\
667  &           Hong Kong China \\
668  &           Hong Kong China \\
669  &           Hong Kong China \\
670  &           Hong Kong China \\
671  &           Hong Kong China \\
672  &                   Hungary \\
673  &                   Hungary \\
674  &                   Hungary \\
675  &                   Hungary \\
676  &                   Hungary \\
677  &                   Hungary \\
678  &                   Hungary \\
679  &                   Hungary \\
680  &                   Hungary \\
681  &                   Hungary \\
682  &                   Hungary \\
683  &                   Hungary \\
684  &                   Iceland \\
685  &                   Iceland \\
686  &                   Iceland \\
687  &                   Iceland \\
688  &                   Iceland \\
689  &                   Iceland \\
690  &                   Iceland \\
691  &                   Iceland \\
692  &                   Iceland \\
693  &                   Iceland \\
694  &                   Iceland \\
695  &                   Iceland \\
696  &                     India \\
697  &                     India \\
698  &                     India \\
699  &                     India \\
700  &                     India \\
701  &                     India \\
702  &                     India \\
703  &                     India \\
704  &                     India \\
705  &                     India \\
706  &                     India \\
707  &                     India \\
708  &                 Indonesia \\
709  &                 Indonesia \\
710  &                 Indonesia \\
711  &                 Indonesia \\
712  &                 Indonesia \\
713  &                 Indonesia \\
714  &                 Indonesia \\
715  &                 Indonesia \\
716  &                 Indonesia \\
717  &                 Indonesia \\
718  &                 Indonesia \\
719  &                 Indonesia \\
720  &                      Iran \\
721  &                      Iran \\
722  &                      Iran \\
723  &                      Iran \\
724  &                      Iran \\
725  &                      Iran \\
726  &                      Iran \\
727  &                      Iran \\
728  &                      Iran \\
729  &                      Iran \\
730  &                      Iran \\
731  &                      Iran \\
732  &                      Iraq \\
733  &                      Iraq \\
734  &                      Iraq \\
735  &                      Iraq \\
736  &                      Iraq \\
737  &                      Iraq \\
738  &                      Iraq \\
739  &                      Iraq \\
740  &                      Iraq \\
741  &                      Iraq \\
742  &                      Iraq \\
743  &                      Iraq \\
744  &                   Ireland \\
745  &                   Ireland \\
746  &                   Ireland \\
747  &                   Ireland \\
748  &                   Ireland \\
749  &                   Ireland \\
750  &                   Ireland \\
751  &                   Ireland \\
752  &                   Ireland \\
753  &                   Ireland \\
754  &                   Ireland \\
755  &                   Ireland \\
756  &                    Israel \\
757  &                    Israel \\
758  &                    Israel \\
759  &                    Israel \\
760  &                    Israel \\
761  &                    Israel \\
762  &                    Israel \\
763  &                    Israel \\
764  &                    Israel \\
765  &                    Israel \\
766  &                    Israel \\
767  &                    Israel \\
768  &                     Italy \\
769  &                     Italy \\
770  &                     Italy \\
771  &                     Italy \\
772  &                     Italy \\
773  &                     Italy \\
774  &                     Italy \\
775  &                     Italy \\
776  &                     Italy \\
777  &                     Italy \\
778  &                     Italy \\
779  &                     Italy \\
780  &                   Jamaica \\
781  &                   Jamaica \\
782  &                   Jamaica \\
783  &                   Jamaica \\
784  &                   Jamaica \\
785  &                   Jamaica \\
786  &                   Jamaica \\
787  &                   Jamaica \\
788  &                   Jamaica \\
789  &                   Jamaica \\
790  &                   Jamaica \\
791  &                   Jamaica \\
792  &                     Japan \\
793  &                     Japan \\
794  &                     Japan \\
795  &                     Japan \\
796  &                     Japan \\
797  &                     Japan \\
798  &                     Japan \\
799  &                     Japan \\
800  &                     Japan \\
801  &                     Japan \\
802  &                     Japan \\
803  &                     Japan \\
804  &                    Jordan \\
805  &                    Jordan \\
806  &                    Jordan \\
807  &                    Jordan \\
808  &                    Jordan \\
809  &                    Jordan \\
810  &                    Jordan \\
811  &                    Jordan \\
812  &                    Jordan \\
813  &                    Jordan \\
814  &                    Jordan \\
815  &                    Jordan \\
816  &                     Kenya \\
817  &                     Kenya \\
818  &                     Kenya \\
819  &                     Kenya \\
820  &                     Kenya \\
821  &                     Kenya \\
822  &                     Kenya \\
823  &                     Kenya \\
824  &                     Kenya \\
825  &                     Kenya \\
826  &                     Kenya \\
827  &                     Kenya \\
828  &           Korea Dem. Rep. \\
829  &           Korea Dem. Rep. \\
830  &           Korea Dem. Rep. \\
831  &           Korea Dem. Rep. \\
832  &           Korea Dem. Rep. \\
833  &           Korea Dem. Rep. \\
834  &           Korea Dem. Rep. \\
835  &           Korea Dem. Rep. \\
836  &           Korea Dem. Rep. \\
837  &           Korea Dem. Rep. \\
838  &           Korea Dem. Rep. \\
839  &           Korea Dem. Rep. \\
840  &                Korea Rep. \\
841  &                Korea Rep. \\
842  &                Korea Rep. \\
843  &                Korea Rep. \\
844  &                Korea Rep. \\
845  &                Korea Rep. \\
846  &                Korea Rep. \\
847  &                Korea Rep. \\
848  &                Korea Rep. \\
849  &                Korea Rep. \\
850  &                Korea Rep. \\
851  &                Korea Rep. \\
852  &                    Kuwait \\
853  &                    Kuwait \\
854  &                    Kuwait \\
855  &                    Kuwait \\
856  &                    Kuwait \\
857  &                    Kuwait \\
858  &                    Kuwait \\
859  &                    Kuwait \\
860  &                    Kuwait \\
861  &                    Kuwait \\
862  &                    Kuwait \\
863  &                    Kuwait \\
864  &                   Lebanon \\
865  &                   Lebanon \\
866  &                   Lebanon \\
867  &                   Lebanon \\
868  &                   Lebanon \\
869  &                   Lebanon \\
870  &                   Lebanon \\
871  &                   Lebanon \\
872  &                   Lebanon \\
873  &                   Lebanon \\
874  &                   Lebanon \\
875  &                   Lebanon \\
876  &                   Lesotho \\
877  &                   Lesotho \\
878  &                   Lesotho \\
879  &                   Lesotho \\
880  &                   Lesotho \\
881  &                   Lesotho \\
882  &                   Lesotho \\
883  &                   Lesotho \\
884  &                   Lesotho \\
885  &                   Lesotho \\
886  &                   Lesotho \\
887  &                   Lesotho \\
888  &                   Liberia \\
889  &                   Liberia \\
890  &                   Liberia \\
891  &                   Liberia \\
892  &                   Liberia \\
893  &                   Liberia \\
894  &                   Liberia \\
895  &                   Liberia \\
896  &                   Liberia \\
897  &                   Liberia \\
898  &                   Liberia \\
899  &                   Liberia \\
900  &                     Libya \\
901  &                     Libya \\
902  &                     Libya \\
903  &                     Libya \\
904  &                     Libya \\
905  &                     Libya \\
906  &                     Libya \\
907  &                     Libya \\
908  &                     Libya \\
909  &                     Libya \\
910  &                     Libya \\
911  &                     Libya \\
912  &                Madagascar \\
913  &                Madagascar \\
914  &                Madagascar \\
915  &                Madagascar \\
916  &                Madagascar \\
917  &                Madagascar \\
918  &                Madagascar \\
919  &                Madagascar \\
920  &                Madagascar \\
921  &                Madagascar \\
922  &                Madagascar \\
923  &                Madagascar \\
924  &                    Malawi \\
925  &                    Malawi \\
926  &                    Malawi \\
927  &                    Malawi \\
928  &                    Malawi \\
929  &                    Malawi \\
930  &                    Malawi \\
931  &                    Malawi \\
932  &                    Malawi \\
933  &                    Malawi \\
934  &                    Malawi \\
935  &                    Malawi \\
936  &                  Malaysia \\
937  &                  Malaysia \\
938  &                  Malaysia \\
939  &                  Malaysia \\
940  &                  Malaysia \\
941  &                  Malaysia \\
942  &                  Malaysia \\
943  &                  Malaysia \\
944  &                  Malaysia \\
945  &                  Malaysia \\
946  &                  Malaysia \\
947  &                  Malaysia \\
948  &                      Mali \\
949  &                      Mali \\
950  &                      Mali \\
951  &                      Mali \\
952  &                      Mali \\
953  &                      Mali \\
954  &                      Mali \\
955  &                      Mali \\
956  &                      Mali \\
957  &                      Mali \\
958  &                      Mali \\
959  &                      Mali \\
960  &                Mauritania \\
961  &                Mauritania \\
962  &                Mauritania \\
963  &                Mauritania \\
964  &                Mauritania \\
965  &                Mauritania \\
966  &                Mauritania \\
967  &                Mauritania \\
968  &                Mauritania \\
969  &                Mauritania \\
970  &                Mauritania \\
971  &                Mauritania \\
972  &                 Mauritius \\
973  &                 Mauritius \\
974  &                 Mauritius \\
975  &                 Mauritius \\
976  &                 Mauritius \\
977  &                 Mauritius \\
978  &                 Mauritius \\
979  &                 Mauritius \\
980  &                 Mauritius \\
981  &                 Mauritius \\
982  &                 Mauritius \\
983  &                 Mauritius \\
984  &                    Mexico \\
985  &                    Mexico \\
986  &                    Mexico \\
987  &                    Mexico \\
988  &                    Mexico \\
989  &                    Mexico \\
990  &                    Mexico \\
991  &                    Mexico \\
992  &                    Mexico \\
993  &                    Mexico \\
994  &                    Mexico \\
995  &                    Mexico \\
996  &                  Mongolia \\
997  &                  Mongolia \\
998  &                  Mongolia \\
999  &                  Mongolia \\
1000 &                  Mongolia \\
1001 &                  Mongolia \\
1002 &                  Mongolia \\
1003 &                  Mongolia \\
1004 &                  Mongolia \\
1005 &                  Mongolia \\
1006 &                  Mongolia \\
1007 &                  Mongolia \\
1008 &                Montenegro \\
1009 &                Montenegro \\
1010 &                Montenegro \\
1011 &                Montenegro \\
1012 &                Montenegro \\
1013 &                Montenegro \\
1014 &                Montenegro \\
1015 &                Montenegro \\
1016 &                Montenegro \\
1017 &                Montenegro \\
1018 &                Montenegro \\
1019 &                Montenegro \\
1020 &                   Morocco \\
1021 &                   Morocco \\
1022 &                   Morocco \\
1023 &                   Morocco \\
1024 &                   Morocco \\
1025 &                   Morocco \\
1026 &                   Morocco \\
1027 &                   Morocco \\
1028 &                   Morocco \\
1029 &                   Morocco \\
1030 &                   Morocco \\
1031 &                   Morocco \\
1032 &                Mozambique \\
1033 &                Mozambique \\
1034 &                Mozambique \\
1035 &                Mozambique \\
1036 &                Mozambique \\
1037 &                Mozambique \\
1038 &                Mozambique \\
1039 &                Mozambique \\
1040 &                Mozambique \\
1041 &                Mozambique \\
1042 &                Mozambique \\
1043 &                Mozambique \\
1044 &                   Myanmar \\
1045 &                   Myanmar \\
1046 &                   Myanmar \\
1047 &                   Myanmar \\
1048 &                   Myanmar \\
1049 &                   Myanmar \\
1050 &                   Myanmar \\
1051 &                   Myanmar \\
1052 &                   Myanmar \\
1053 &                   Myanmar \\
1054 &                   Myanmar \\
1055 &                   Myanmar \\
1056 &                   Namibia \\
1057 &                   Namibia \\
1058 &                   Namibia \\
1059 &                   Namibia \\
1060 &                   Namibia \\
1061 &                   Namibia \\
1062 &                   Namibia \\
1063 &                   Namibia \\
1064 &                   Namibia \\
1065 &                   Namibia \\
1066 &                   Namibia \\
1067 &                   Namibia \\
1068 &                     Nepal \\
1069 &                     Nepal \\
1070 &                     Nepal \\
1071 &                     Nepal \\
1072 &                     Nepal \\
1073 &                     Nepal \\
1074 &                     Nepal \\
1075 &                     Nepal \\
1076 &                     Nepal \\
1077 &                     Nepal \\
1078 &                     Nepal \\
1079 &                     Nepal \\
1080 &               Netherlands \\
1081 &               Netherlands \\
1082 &               Netherlands \\
1083 &               Netherlands \\
1084 &               Netherlands \\
1085 &               Netherlands \\
1086 &               Netherlands \\
1087 &               Netherlands \\
1088 &               Netherlands \\
1089 &               Netherlands \\
1090 &               Netherlands \\
1091 &               Netherlands \\
1092 &               New Zealand \\
1093 &               New Zealand \\
1094 &               New Zealand \\
1095 &               New Zealand \\
1096 &               New Zealand \\
1097 &               New Zealand \\
1098 &               New Zealand \\
1099 &               New Zealand \\
1100 &               New Zealand \\
1101 &               New Zealand \\
1102 &               New Zealand \\
1103 &               New Zealand \\
1104 &                 Nicaragua \\
1105 &                 Nicaragua \\
1106 &                 Nicaragua \\
1107 &                 Nicaragua \\
1108 &                 Nicaragua \\
1109 &                 Nicaragua \\
1110 &                 Nicaragua \\
1111 &                 Nicaragua \\
1112 &                 Nicaragua \\
1113 &                 Nicaragua \\
1114 &                 Nicaragua \\
1115 &                 Nicaragua \\
1116 &                     Niger \\
1117 &                     Niger \\
1118 &                     Niger \\
1119 &                     Niger \\
1120 &                     Niger \\
1121 &                     Niger \\
1122 &                     Niger \\
1123 &                     Niger \\
1124 &                     Niger \\
1125 &                     Niger \\
1126 &                     Niger \\
1127 &                     Niger \\
1128 &                   Nigeria \\
1129 &                   Nigeria \\
1130 &                   Nigeria \\
1131 &                   Nigeria \\
1132 &                   Nigeria \\
1133 &                   Nigeria \\
1134 &                   Nigeria \\
1135 &                   Nigeria \\
1136 &                   Nigeria \\
1137 &                   Nigeria \\
1138 &                   Nigeria \\
1139 &                   Nigeria \\
1140 &                    Norway \\
1141 &                    Norway \\
1142 &                    Norway \\
1143 &                    Norway \\
1144 &                    Norway \\
1145 &                    Norway \\
1146 &                    Norway \\
1147 &                    Norway \\
1148 &                    Norway \\
1149 &                    Norway \\
1150 &                    Norway \\
1151 &                    Norway \\
1152 &                      Oman \\
1153 &                      Oman \\
1154 &                      Oman \\
1155 &                      Oman \\
1156 &                      Oman \\
1157 &                      Oman \\
1158 &                      Oman \\
1159 &                      Oman \\
1160 &                      Oman \\
1161 &                      Oman \\
1162 &                      Oman \\
1163 &                      Oman \\
1164 &                  Pakistan \\
1165 &                  Pakistan \\
1166 &                  Pakistan \\
1167 &                  Pakistan \\
1168 &                  Pakistan \\
1169 &                  Pakistan \\
1170 &                  Pakistan \\
1171 &                  Pakistan \\
1172 &                  Pakistan \\
1173 &                  Pakistan \\
1174 &                  Pakistan \\
1175 &                  Pakistan \\
1176 &                    Panama \\
1177 &                    Panama \\
1178 &                    Panama \\
1179 &                    Panama \\
1180 &                    Panama \\
1181 &                    Panama \\
1182 &                    Panama \\
1183 &                    Panama \\
1184 &                    Panama \\
1185 &                    Panama \\
1186 &                    Panama \\
1187 &                    Panama \\
1188 &                  Paraguay \\
1189 &                  Paraguay \\
1190 &                  Paraguay \\
1191 &                  Paraguay \\
1192 &                  Paraguay \\
1193 &                  Paraguay \\
1194 &                  Paraguay \\
1195 &                  Paraguay \\
1196 &                  Paraguay \\
1197 &                  Paraguay \\
1198 &                  Paraguay \\
1199 &                  Paraguay \\
1200 &                      Peru \\
1201 &                      Peru \\
1202 &                      Peru \\
1203 &                      Peru \\
1204 &                      Peru \\
1205 &                      Peru \\
1206 &                      Peru \\
1207 &                      Peru \\
1208 &                      Peru \\
1209 &                      Peru \\
1210 &                      Peru \\
1211 &                      Peru \\
1212 &               Philippines \\
1213 &               Philippines \\
1214 &               Philippines \\
1215 &               Philippines \\
1216 &               Philippines \\
1217 &               Philippines \\
1218 &               Philippines \\
1219 &               Philippines \\
1220 &               Philippines \\
1221 &               Philippines \\
1222 &               Philippines \\
1223 &               Philippines \\
1224 &                    Poland \\
1225 &                    Poland \\
1226 &                    Poland \\
1227 &                    Poland \\
1228 &                    Poland \\
1229 &                    Poland \\
1230 &                    Poland \\
1231 &                    Poland \\
1232 &                    Poland \\
1233 &                    Poland \\
1234 &                    Poland \\
1235 &                    Poland \\
1236 &                  Portugal \\
1237 &                  Portugal \\
1238 &                  Portugal \\
1239 &                  Portugal \\
1240 &                  Portugal \\
1241 &                  Portugal \\
1242 &                  Portugal \\
1243 &                  Portugal \\
1244 &                  Portugal \\
1245 &                  Portugal \\
1246 &                  Portugal \\
1247 &                  Portugal \\
1248 &               Puerto Rico \\
1249 &               Puerto Rico \\
1250 &               Puerto Rico \\
1251 &               Puerto Rico \\
1252 &               Puerto Rico \\
1253 &               Puerto Rico \\
1254 &               Puerto Rico \\
1255 &               Puerto Rico \\
1256 &               Puerto Rico \\
1257 &               Puerto Rico \\
1258 &               Puerto Rico \\
1259 &               Puerto Rico \\
1260 &                   Reunion \\
1261 &                   Reunion \\
1262 &                   Reunion \\
1263 &                   Reunion \\
1264 &                   Reunion \\
1265 &                   Reunion \\
1266 &                   Reunion \\
1267 &                   Reunion \\
1268 &                   Reunion \\
1269 &                   Reunion \\
1270 &                   Reunion \\
1271 &                   Reunion \\
1272 &                   Romania \\
1273 &                   Romania \\
1274 &                   Romania \\
1275 &                   Romania \\
1276 &                   Romania \\
1277 &                   Romania \\
1278 &                   Romania \\
1279 &                   Romania \\
1280 &                   Romania \\
1281 &                   Romania \\
1282 &                   Romania \\
1283 &                   Romania \\
1284 &                    Rwanda \\
1285 &                    Rwanda \\
1286 &                    Rwanda \\
1287 &                    Rwanda \\
1288 &                    Rwanda \\
1289 &                    Rwanda \\
1290 &                    Rwanda \\
1291 &                    Rwanda \\
1292 &                    Rwanda \\
1293 &                    Rwanda \\
1294 &                    Rwanda \\
1295 &                    Rwanda \\
1296 &     Sao Tome and Principe \\
1297 &     Sao Tome and Principe \\
1298 &     Sao Tome and Principe \\
1299 &     Sao Tome and Principe \\
1300 &     Sao Tome and Principe \\
1301 &     Sao Tome and Principe \\
1302 &     Sao Tome and Principe \\
1303 &     Sao Tome and Principe \\
1304 &     Sao Tome and Principe \\
1305 &     Sao Tome and Principe \\
1306 &     Sao Tome and Principe \\
1307 &     Sao Tome and Principe \\
1308 &              Saudi Arabia \\
1309 &              Saudi Arabia \\
1310 &              Saudi Arabia \\
1311 &              Saudi Arabia \\
1312 &              Saudi Arabia \\
1313 &              Saudi Arabia \\
1314 &              Saudi Arabia \\
1315 &              Saudi Arabia \\
1316 &              Saudi Arabia \\
1317 &              Saudi Arabia \\
1318 &              Saudi Arabia \\
1319 &              Saudi Arabia \\
1320 &                   Senegal \\
1321 &                   Senegal \\
1322 &                   Senegal \\
1323 &                   Senegal \\
1324 &                   Senegal \\
1325 &                   Senegal \\
1326 &                   Senegal \\
1327 &                   Senegal \\
1328 &                   Senegal \\
1329 &                   Senegal \\
1330 &                   Senegal \\
1331 &                   Senegal \\
1332 &                    Serbia \\
1333 &                    Serbia \\
1334 &                    Serbia \\
1335 &                    Serbia \\
1336 &                    Serbia \\
1337 &                    Serbia \\
1338 &                    Serbia \\
1339 &                    Serbia \\
1340 &                    Serbia \\
1341 &                    Serbia \\
1342 &                    Serbia \\
1343 &                    Serbia \\
1344 &              Sierra Leone \\
1345 &              Sierra Leone \\
1346 &              Sierra Leone \\
1347 &              Sierra Leone \\
1348 &              Sierra Leone \\
1349 &              Sierra Leone \\
1350 &              Sierra Leone \\
1351 &              Sierra Leone \\
1352 &              Sierra Leone \\
1353 &              Sierra Leone \\
1354 &              Sierra Leone \\
1355 &              Sierra Leone \\
1356 &                 Singapore \\
1357 &                 Singapore \\
1358 &                 Singapore \\
1359 &                 Singapore \\
1360 &                 Singapore \\
1361 &                 Singapore \\
1362 &                 Singapore \\
1363 &                 Singapore \\
1364 &                 Singapore \\
1365 &                 Singapore \\
1366 &                 Singapore \\
1367 &                 Singapore \\
1368 &           Slovak Republic \\
1369 &           Slovak Republic \\
1370 &           Slovak Republic \\
1371 &           Slovak Republic \\
1372 &           Slovak Republic \\
1373 &           Slovak Republic \\
1374 &           Slovak Republic \\
1375 &           Slovak Republic \\
1376 &           Slovak Republic \\
1377 &           Slovak Republic \\
1378 &           Slovak Republic \\
1379 &           Slovak Republic \\
1380 &                  Slovenia \\
1381 &                  Slovenia \\
1382 &                  Slovenia \\
1383 &                  Slovenia \\
1384 &                  Slovenia \\
1385 &                  Slovenia \\
1386 &                  Slovenia \\
1387 &                  Slovenia \\
1388 &                  Slovenia \\
1389 &                  Slovenia \\
1390 &                  Slovenia \\
1391 &                  Slovenia \\
1392 &                   Somalia \\
1393 &                   Somalia \\
1394 &                   Somalia \\
1395 &                   Somalia \\
1396 &                   Somalia \\
1397 &                   Somalia \\
1398 &                   Somalia \\
1399 &                   Somalia \\
1400 &                   Somalia \\
1401 &                   Somalia \\
1402 &                   Somalia \\
1403 &                   Somalia \\
1404 &              South Africa \\
1405 &              South Africa \\
1406 &              South Africa \\
1407 &              South Africa \\
1408 &              South Africa \\
1409 &              South Africa \\
1410 &              South Africa \\
1411 &              South Africa \\
1412 &              South Africa \\
1413 &              South Africa \\
1414 &              South Africa \\
1415 &              South Africa \\
1416 &                     Spain \\
1417 &                     Spain \\
1418 &                     Spain \\
1419 &                     Spain \\
1420 &                     Spain \\
1421 &                     Spain \\
1422 &                     Spain \\
1423 &                     Spain \\
1424 &                     Spain \\
1425 &                     Spain \\
1426 &                     Spain \\
1427 &                     Spain \\
1428 &                 Sri Lanka \\
1429 &                 Sri Lanka \\
1430 &                 Sri Lanka \\
1431 &                 Sri Lanka \\
1432 &                 Sri Lanka \\
1433 &                 Sri Lanka \\
1434 &                 Sri Lanka \\
1435 &                 Sri Lanka \\
1436 &                 Sri Lanka \\
1437 &                 Sri Lanka \\
1438 &                 Sri Lanka \\
1439 &                 Sri Lanka \\
1440 &                     Sudan \\
1441 &                     Sudan \\
1442 &                     Sudan \\
1443 &                     Sudan \\
1444 &                     Sudan \\
1445 &                     Sudan \\
1446 &                     Sudan \\
1447 &                     Sudan \\
1448 &                     Sudan \\
1449 &                     Sudan \\
1450 &                     Sudan \\
1451 &                     Sudan \\
1452 &                 Swaziland \\
1453 &                 Swaziland \\
1454 &                 Swaziland \\
1455 &                 Swaziland \\
1456 &                 Swaziland \\
1457 &                 Swaziland \\
1458 &                 Swaziland \\
1459 &                 Swaziland \\
1460 &                 Swaziland \\
1461 &                 Swaziland \\
1462 &                 Swaziland \\
1463 &                 Swaziland \\
1464 &                    Sweden \\
1465 &                    Sweden \\
1466 &                    Sweden \\
1467 &                    Sweden \\
1468 &                    Sweden \\
1469 &                    Sweden \\
1470 &                    Sweden \\
1471 &                    Sweden \\
1472 &                    Sweden \\
1473 &                    Sweden \\
1474 &                    Sweden \\
1475 &                    Sweden \\
1476 &               Switzerland \\
1477 &               Switzerland \\
1478 &               Switzerland \\
1479 &               Switzerland \\
1480 &               Switzerland \\
1481 &               Switzerland \\
1482 &               Switzerland \\
1483 &               Switzerland \\
1484 &               Switzerland \\
1485 &               Switzerland \\
1486 &               Switzerland \\
1487 &               Switzerland \\
1488 &                     Syria \\
1489 &                     Syria \\
1490 &                     Syria \\
1491 &                     Syria \\
1492 &                     Syria \\
1493 &                     Syria \\
1494 &                     Syria \\
1495 &                     Syria \\
1496 &                     Syria \\
1497 &                     Syria \\
1498 &                     Syria \\
1499 &                     Syria \\
1500 &                    Taiwan \\
1501 &                    Taiwan \\
1502 &                    Taiwan \\
1503 &                    Taiwan \\
1504 &                    Taiwan \\
1505 &                    Taiwan \\
1506 &                    Taiwan \\
1507 &                    Taiwan \\
1508 &                    Taiwan \\
1509 &                    Taiwan \\
1510 &                    Taiwan \\
1511 &                    Taiwan \\
1512 &                  Tanzania \\
1513 &                  Tanzania \\
1514 &                  Tanzania \\
1515 &                  Tanzania \\
1516 &                  Tanzania \\
1517 &                  Tanzania \\
1518 &                  Tanzania \\
1519 &                  Tanzania \\
1520 &                  Tanzania \\
1521 &                  Tanzania \\
1522 &                  Tanzania \\
1523 &                  Tanzania \\
1524 &                  Thailand \\
1525 &                  Thailand \\
1526 &                  Thailand \\
1527 &                  Thailand \\
1528 &                  Thailand \\
1529 &                  Thailand \\
1530 &                  Thailand \\
1531 &                  Thailand \\
1532 &                  Thailand \\
1533 &                  Thailand \\
1534 &                  Thailand \\
1535 &                  Thailand \\
1536 &                      Togo \\
1537 &                      Togo \\
1538 &                      Togo \\
1539 &                      Togo \\
1540 &                      Togo \\
1541 &                      Togo \\
1542 &                      Togo \\
1543 &                      Togo \\
1544 &                      Togo \\
1545 &                      Togo \\
1546 &                      Togo \\
1547 &                      Togo \\
1548 &       Trinidad and Tobago \\
1549 &       Trinidad and Tobago \\
1550 &       Trinidad and Tobago \\
1551 &       Trinidad and Tobago \\
1552 &       Trinidad and Tobago \\
1553 &       Trinidad and Tobago \\
1554 &       Trinidad and Tobago \\
1555 &       Trinidad and Tobago \\
1556 &       Trinidad and Tobago \\
1557 &       Trinidad and Tobago \\
1558 &       Trinidad and Tobago \\
1559 &       Trinidad and Tobago \\
1560 &                   Tunisia \\
1561 &                   Tunisia \\
1562 &                   Tunisia \\
1563 &                   Tunisia \\
1564 &                   Tunisia \\
1565 &                   Tunisia \\
1566 &                   Tunisia \\
1567 &                   Tunisia \\
1568 &                   Tunisia \\
1569 &                   Tunisia \\
1570 &                   Tunisia \\
1571 &                   Tunisia \\
1572 &                    Turkey \\
1573 &                    Turkey \\
1574 &                    Turkey \\
1575 &                    Turkey \\
1576 &                    Turkey \\
1577 &                    Turkey \\
1578 &                    Turkey \\
1579 &                    Turkey \\
1580 &                    Turkey \\
1581 &                    Turkey \\
1582 &                    Turkey \\
1583 &                    Turkey \\
1584 &                    Uganda \\
1585 &                    Uganda \\
1586 &                    Uganda \\
1587 &                    Uganda \\
1588 &                    Uganda \\
1589 &                    Uganda \\
1590 &                    Uganda \\
1591 &                    Uganda \\
1592 &                    Uganda \\
1593 &                    Uganda \\
1594 &                    Uganda \\
1595 &                    Uganda \\
1596 &            United Kingdom \\
1597 &            United Kingdom \\
1598 &            United Kingdom \\
1599 &            United Kingdom \\
1600 &            United Kingdom \\
1601 &            United Kingdom \\
1602 &            United Kingdom \\
1603 &            United Kingdom \\
1604 &            United Kingdom \\
1605 &            United Kingdom \\
1606 &            United Kingdom \\
1607 &            United Kingdom \\
1608 &             United States \\
1609 &             United States \\
1610 &             United States \\
1611 &             United States \\
1612 &             United States \\
1613 &             United States \\
1614 &             United States \\
1615 &             United States \\
1616 &             United States \\
1617 &             United States \\
1618 &             United States \\
1619 &             United States \\
1620 &                   Uruguay \\
1621 &                   Uruguay \\
1622 &                   Uruguay \\
1623 &                   Uruguay \\
1624 &                   Uruguay \\
1625 &                   Uruguay \\
1626 &                   Uruguay \\
1627 &                   Uruguay \\
1628 &                   Uruguay \\
1629 &                   Uruguay \\
1630 &                   Uruguay \\
1631 &                   Uruguay \\
1632 &                 Venezuela \\
1633 &                 Venezuela \\
1634 &                 Venezuela \\
1635 &                 Venezuela \\
1636 &                 Venezuela \\
1637 &                 Venezuela \\
1638 &                 Venezuela \\
1639 &                 Venezuela \\
1640 &                 Venezuela \\
1641 &                 Venezuela \\
1642 &                 Venezuela \\
1643 &                 Venezuela \\
1644 &                   Vietnam \\
1645 &                   Vietnam \\
1646 &                   Vietnam \\
1647 &                   Vietnam \\
1648 &                   Vietnam \\
1649 &                   Vietnam \\
1650 &                   Vietnam \\
1651 &                   Vietnam \\
1652 &                   Vietnam \\
1653 &                   Vietnam \\
1654 &                   Vietnam \\
1655 &                   Vietnam \\
1656 &        West Bank and Gaza \\
1657 &        West Bank and Gaza \\
1658 &        West Bank and Gaza \\
1659 &        West Bank and Gaza \\
1660 &        West Bank and Gaza \\
1661 &        West Bank and Gaza \\
1662 &        West Bank and Gaza \\
1663 &        West Bank and Gaza \\
1664 &        West Bank and Gaza \\
1665 &        West Bank and Gaza \\
1666 &        West Bank and Gaza \\
1667 &        West Bank and Gaza \\
1668 &                Yemen Rep. \\
1669 &                Yemen Rep. \\
1670 &                Yemen Rep. \\
1671 &                Yemen Rep. \\
1672 &                Yemen Rep. \\
1673 &                Yemen Rep. \\
1674 &                Yemen Rep. \\
1675 &                Yemen Rep. \\
1676 &                Yemen Rep. \\
1677 &                Yemen Rep. \\
1678 &                Yemen Rep. \\
1679 &                Yemen Rep. \\
1680 &                    Zambia \\
1681 &                    Zambia \\
1682 &                    Zambia \\
1683 &                    Zambia \\
1684 &                    Zambia \\
1685 &                    Zambia \\
1686 &                    Zambia \\
1687 &                    Zambia \\
1688 &                    Zambia \\
1689 &                    Zambia \\
1690 &                    Zambia \\
1691 &                    Zambia \\
1692 &                  Zimbabwe \\
1693 &                  Zimbabwe \\
1694 &                  Zimbabwe \\
1695 &                  Zimbabwe \\
1696 &                  Zimbabwe \\
1697 &                  Zimbabwe \\
1698 &                  Zimbabwe \\
1699 &                  Zimbabwe \\
1700 &                  Zimbabwe \\
1701 &                  Zimbabwe \\
1702 &                  Zimbabwe \\
1703 &                  Zimbabwe \\
\bottomrule
\end{tabular}

When we want to select more than one column to include in our dataframe,
we use the convention df{[}{[}`col1', `col2'{]}{]} to select the columns
we want.

In our example below, we will create a new dataframe called
``narrow\_df'', and we are primarily interested in getting the
population column from the original df, but we want to have year,
country, and continent in our new dataframe also.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{narrow\_df }\OperatorTok{=}\NormalTok{ df[[}\StringTok{\textquotesingle{}country\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}pop\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}continent\textquotesingle{}}\NormalTok{]]}
\NormalTok{narrow\_df.head(}\DecValTok{2}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
C:\Users\shemerli\Anaconda3\envs\ds-env\lib\site-packages\IPython\core\formatters.py:343: FutureWarning: In future versions `DataFrame.to_latex` is expected to utilise the base implementation of `Styler.to_latex` for formatting and rendering. The arguments signature may therefore change. It is recommended instead to use `DataFrame.style.to_latex` which also contains additional functionality.
  return method()
\end{verbatim}

\begin{tabular}{llrrl}
\toprule
{} &      country &  year &        pop & continent \\
\midrule
0 &  Afghanistan &  1952 &  8425333.0 &      Asia \\
1 &  Afghanistan &  1957 &  9240934.0 &      Asia \\
\bottomrule
\end{tabular}

So now we have a more manageable dataset to work with called
``narrow\_df''. The original dataframe ``df'' is still there, and still
the same shape as before, we have not changed it.

Sometimes you might have many columns in a dataframe you want to keep
and only a relatively few you might want to remove. In these instances,
you might want to use the pandas \texttt{.drop()} method instead. We can
achieve the same result as the example above by simply dropping two
variables instead of naming the other four. With this method, we also
need to add the specification \texttt{axis\ =\ 1}, which indicates that
it is columns being referenced for being dropped.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{narrow\_df }\OperatorTok{=}\NormalTok{ df.drop([}\StringTok{\textquotesingle{}lifeExp\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}gdpPercap\textquotesingle{}}\NormalTok{], axis}\OperatorTok{=}\DecValTok{1}\NormalTok{)}
\NormalTok{narrow\_df.head(}\DecValTok{2}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
C:\Users\shemerli\Anaconda3\envs\ds-env\lib\site-packages\IPython\core\formatters.py:343: FutureWarning: In future versions `DataFrame.to_latex` is expected to utilise the base implementation of `Styler.to_latex` for formatting and rendering. The arguments signature may therefore change. It is recommended instead to use `DataFrame.style.to_latex` which also contains additional functionality.
  return method()
\end{verbatim}

\begin{tabular}{llrrl}
\toprule
{} &      country &  year &        pop & continent \\
\midrule
0 &  Afghanistan &  1952 &  8425333.0 &      Asia \\
1 &  Afghanistan &  1957 &  9240934.0 &      Asia \\
\bottomrule
\end{tabular}

\begin{tcolorbox}[enhanced jigsaw, colframe=quarto-callout-tip-color-frame, toprule=.15mm, colback=white, leftrule=.75mm, rightrule=.15mm, breakable, colbacktitle=quarto-callout-tip-color!10!white, arc=.35mm, bottomtitle=1mm, bottomrule=.15mm, titlerule=0mm, title=\textcolor{quarto-callout-tip-color}{\faLightbulb}\hspace{0.5em}{Reminder on Assignment!}, toptitle=1mm, left=2mm, opacityback=0, coltitle=black, opacitybacktitle=0.6]
When you create a variable or dataframe object in python, to the left of
the \texttt{=} sign you always put the name of the thing you want to
make or modify. To the right, that's where you put the contents of what
it is you want to create. It may feel counterintuitive! Especially if
you are using the same variable or dataframe identifier on both sides of
the equals sign.
\end{tcolorbox}

\begin{tcolorbox}[enhanced jigsaw, colframe=quarto-callout-warning-color-frame, toprule=.15mm, colback=white, leftrule=.75mm, rightrule=.15mm, breakable, colbacktitle=quarto-callout-warning-color!10!white, arc=.35mm, bottomtitle=1mm, bottomrule=.15mm, titlerule=0mm, title={Challenge 1}, toptitle=1mm, left=2mm, opacityback=0, coltitle=black, opacitybacktitle=0.6]
Let's say you just want to narrow down the dataset to include just the
country and the GDP per capita. How would you do it? Don't forget to run
your code so it also shows a view of the result so you can confirm the
code worked as you wanted it to.
\end{tcolorbox}

\begin{tcolorbox}[enhanced jigsaw, colframe=quarto-callout-note-color-frame, toprule=.15mm, colback=white, leftrule=.75mm, rightrule=.15mm, breakable, colbacktitle=quarto-callout-note-color!10!white, arc=.35mm, bottomtitle=1mm, bottomrule=.15mm, titlerule=0mm, title={Solution to Challenge 1}, toptitle=1mm, left=2mm, opacityback=0, coltitle=black, opacitybacktitle=0.6]

First you would like to create a new object to hold this narrowed down
version of the dataset, then just use the \texttt{.head()} to see some
of the resulting data.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{challenge1\_df }\OperatorTok{=}\NormalTok{ df[[}\StringTok{\textquotesingle{}country\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}gdpPercap\textquotesingle{}}\NormalTok{]]}
\NormalTok{challenge1\_df.head(}\DecValTok{2}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
C:\Users\shemerli\Anaconda3\envs\ds-env\lib\site-packages\IPython\core\formatters.py:343: FutureWarning: In future versions `DataFrame.to_latex` is expected to utilise the base implementation of `Styler.to_latex` for formatting and rendering. The arguments signature may therefore change. It is recommended instead to use `DataFrame.style.to_latex` which also contains additional functionality.
  return method()
\end{verbatim}

\begin{tabular}{llr}
\toprule
{} &      country &   gdpPercap \\
\midrule
0 &  Afghanistan &  779.445314 \\
1 &  Afghanistan &  820.853030 \\
\bottomrule
\end{tabular}

\end{tcolorbox}

\hypertarget{selecting-rows}{%
\section{Selecting rows}\label{selecting-rows}}

Of course, in data analysis we are usually interested in looking at just
some of rows of data, not all of it all the time.

Selecting Rows

So when we want to look at just selected rows (i.e.~values within a
given column) we can specify the column(s) we want to select from, then
we use \texttt{==} or a different operator as we require:

\begin{itemize}
\tightlist
\item
  not equal to \texttt{!=}
\item
  less than \texttt{\textless{}}
\item
  greater than \texttt{\textgreater{}}
\item
  less than or equal to \texttt{\textless{}=}
\item
  greater than or equal to \texttt{\textgreater{}=}
\end{itemize}

Note that we do not use the \texttt{=} operator when it comes to
specifying values we want to find in a column. This is an important
point in python. The \texttt{==} operator compares the value or equality
of two objects and is the right operator to use. It is a
\texttt{comparison} operator. In comparison, the \texttt{=} is an
\texttt{assignment} operator. We use it, for example, when we create or
assign variables or objects. In the example below we see both at work.

Likely the most common way in python to select rows is to use a
condition inside selection brackets \texttt{{[}{]}}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{filtered\_df }\OperatorTok{=}\NormalTok{ df[df[}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{] }\OperatorTok{==} \DecValTok{1972}\NormalTok{]}
\NormalTok{filtered\_df.head(}\DecValTok{2}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
C:\Users\shemerli\Anaconda3\envs\ds-env\lib\site-packages\IPython\core\formatters.py:343: FutureWarning: In future versions `DataFrame.to_latex` is expected to utilise the base implementation of `Styler.to_latex` for formatting and rendering. The arguments signature may therefore change. It is recommended instead to use `DataFrame.style.to_latex` which also contains additional functionality.
  return method()
\end{verbatim}

\begin{tabular}{llrrlrr}
\toprule
{} &      country &  year &         pop & continent &  lifeExp &    gdpPercap \\
\midrule
4  &  Afghanistan &  1972 &  13079460.0 &      Asia &   36.088 &   739.981106 \\
16 &      Albania &  1972 &   2263554.0 &    Europe &   67.690 &  3313.422188 \\
\bottomrule
\end{tabular}

Let's look at what is happening under the hood. We see that pandas
checks each row to see which rows fulfill the condition specified.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df[}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{] }\OperatorTok{==} \DecValTok{1972}
\end{Highlighting}
\end{Shaded}

\begin{tabular}{ll}
\toprule
{} &   year \\
\midrule
0    &  False \\
1    &  False \\
2    &  False \\
3    &  False \\
4    &   True \\
5    &  False \\
6    &  False \\
7    &  False \\
8    &  False \\
9    &  False \\
10   &  False \\
11   &  False \\
12   &  False \\
13   &  False \\
14   &  False \\
15   &  False \\
16   &   True \\
17   &  False \\
18   &  False \\
19   &  False \\
20   &  False \\
21   &  False \\
22   &  False \\
23   &  False \\
24   &  False \\
25   &  False \\
26   &  False \\
27   &  False \\
28   &   True \\
29   &  False \\
30   &  False \\
31   &  False \\
32   &  False \\
33   &  False \\
34   &  False \\
35   &  False \\
36   &  False \\
37   &  False \\
38   &  False \\
39   &  False \\
40   &   True \\
41   &  False \\
42   &  False \\
43   &  False \\
44   &  False \\
45   &  False \\
46   &  False \\
47   &  False \\
48   &  False \\
49   &  False \\
50   &  False \\
51   &  False \\
52   &   True \\
53   &  False \\
54   &  False \\
55   &  False \\
56   &  False \\
57   &  False \\
58   &  False \\
59   &  False \\
60   &  False \\
61   &  False \\
62   &  False \\
63   &  False \\
64   &   True \\
65   &  False \\
66   &  False \\
67   &  False \\
68   &  False \\
69   &  False \\
70   &  False \\
71   &  False \\
72   &  False \\
73   &  False \\
74   &  False \\
75   &  False \\
76   &   True \\
77   &  False \\
78   &  False \\
79   &  False \\
80   &  False \\
81   &  False \\
82   &  False \\
83   &  False \\
84   &  False \\
85   &  False \\
86   &  False \\
87   &  False \\
88   &   True \\
89   &  False \\
90   &  False \\
91   &  False \\
92   &  False \\
93   &  False \\
94   &  False \\
95   &  False \\
96   &  False \\
97   &  False \\
98   &  False \\
99   &  False \\
100  &   True \\
101  &  False \\
102  &  False \\
103  &  False \\
104  &  False \\
105  &  False \\
106  &  False \\
107  &  False \\
108  &  False \\
109  &  False \\
110  &  False \\
111  &  False \\
112  &   True \\
113  &  False \\
114  &  False \\
115  &  False \\
116  &  False \\
117  &  False \\
118  &  False \\
119  &  False \\
120  &  False \\
121  &  False \\
122  &  False \\
123  &  False \\
124  &   True \\
125  &  False \\
126  &  False \\
127  &  False \\
128  &  False \\
129  &  False \\
130  &  False \\
131  &  False \\
132  &  False \\
133  &  False \\
134  &  False \\
135  &  False \\
136  &   True \\
137  &  False \\
138  &  False \\
139  &  False \\
140  &  False \\
141  &  False \\
142  &  False \\
143  &  False \\
144  &  False \\
145  &  False \\
146  &  False \\
147  &  False \\
148  &   True \\
149  &  False \\
150  &  False \\
151  &  False \\
152  &  False \\
153  &  False \\
154  &  False \\
155  &  False \\
156  &  False \\
157  &  False \\
158  &  False \\
159  &  False \\
160  &   True \\
161  &  False \\
162  &  False \\
163  &  False \\
164  &  False \\
165  &  False \\
166  &  False \\
167  &  False \\
168  &  False \\
169  &  False \\
170  &  False \\
171  &  False \\
172  &   True \\
173  &  False \\
174  &  False \\
175  &  False \\
176  &  False \\
177  &  False \\
178  &  False \\
179  &  False \\
180  &  False \\
181  &  False \\
182  &  False \\
183  &  False \\
184  &   True \\
185  &  False \\
186  &  False \\
187  &  False \\
188  &  False \\
189  &  False \\
190  &  False \\
191  &  False \\
192  &  False \\
193  &  False \\
194  &  False \\
195  &  False \\
196  &   True \\
197  &  False \\
198  &  False \\
199  &  False \\
200  &  False \\
201  &  False \\
202  &  False \\
203  &  False \\
204  &  False \\
205  &  False \\
206  &  False \\
207  &  False \\
208  &   True \\
209  &  False \\
210  &  False \\
211  &  False \\
212  &  False \\
213  &  False \\
214  &  False \\
215  &  False \\
216  &  False \\
217  &  False \\
218  &  False \\
219  &  False \\
220  &   True \\
221  &  False \\
222  &  False \\
223  &  False \\
224  &  False \\
225  &  False \\
226  &  False \\
227  &  False \\
228  &  False \\
229  &  False \\
230  &  False \\
231  &  False \\
232  &   True \\
233  &  False \\
234  &  False \\
235  &  False \\
236  &  False \\
237  &  False \\
238  &  False \\
239  &  False \\
240  &  False \\
241  &  False \\
242  &  False \\
243  &  False \\
244  &   True \\
245  &  False \\
246  &  False \\
247  &  False \\
248  &  False \\
249  &  False \\
250  &  False \\
251  &  False \\
252  &  False \\
253  &  False \\
254  &  False \\
255  &  False \\
256  &   True \\
257  &  False \\
258  &  False \\
259  &  False \\
260  &  False \\
261  &  False \\
262  &  False \\
263  &  False \\
264  &  False \\
265  &  False \\
266  &  False \\
267  &  False \\
268  &   True \\
269  &  False \\
270  &  False \\
271  &  False \\
272  &  False \\
273  &  False \\
274  &  False \\
275  &  False \\
276  &  False \\
277  &  False \\
278  &  False \\
279  &  False \\
280  &   True \\
281  &  False \\
282  &  False \\
283  &  False \\
284  &  False \\
285  &  False \\
286  &  False \\
287  &  False \\
288  &  False \\
289  &  False \\
290  &  False \\
291  &  False \\
292  &   True \\
293  &  False \\
294  &  False \\
295  &  False \\
296  &  False \\
297  &  False \\
298  &  False \\
299  &  False \\
300  &  False \\
301  &  False \\
302  &  False \\
303  &  False \\
304  &   True \\
305  &  False \\
306  &  False \\
307  &  False \\
308  &  False \\
309  &  False \\
310  &  False \\
311  &  False \\
312  &  False \\
313  &  False \\
314  &  False \\
315  &  False \\
316  &   True \\
317  &  False \\
318  &  False \\
319  &  False \\
320  &  False \\
321  &  False \\
322  &  False \\
323  &  False \\
324  &  False \\
325  &  False \\
326  &  False \\
327  &  False \\
328  &   True \\
329  &  False \\
330  &  False \\
331  &  False \\
332  &  False \\
333  &  False \\
334  &  False \\
335  &  False \\
336  &  False \\
337  &  False \\
338  &  False \\
339  &  False \\
340  &   True \\
341  &  False \\
342  &  False \\
343  &  False \\
344  &  False \\
345  &  False \\
346  &  False \\
347  &  False \\
348  &  False \\
349  &  False \\
350  &  False \\
351  &  False \\
352  &   True \\
353  &  False \\
354  &  False \\
355  &  False \\
356  &  False \\
357  &  False \\
358  &  False \\
359  &  False \\
360  &  False \\
361  &  False \\
362  &  False \\
363  &  False \\
364  &   True \\
365  &  False \\
366  &  False \\
367  &  False \\
368  &  False \\
369  &  False \\
370  &  False \\
371  &  False \\
372  &  False \\
373  &  False \\
374  &  False \\
375  &  False \\
376  &   True \\
377  &  False \\
378  &  False \\
379  &  False \\
380  &  False \\
381  &  False \\
382  &  False \\
383  &  False \\
384  &  False \\
385  &  False \\
386  &  False \\
387  &  False \\
388  &   True \\
389  &  False \\
390  &  False \\
391  &  False \\
392  &  False \\
393  &  False \\
394  &  False \\
395  &  False \\
396  &  False \\
397  &  False \\
398  &  False \\
399  &  False \\
400  &   True \\
401  &  False \\
402  &  False \\
403  &  False \\
404  &  False \\
405  &  False \\
406  &  False \\
407  &  False \\
408  &  False \\
409  &  False \\
410  &  False \\
411  &  False \\
412  &   True \\
413  &  False \\
414  &  False \\
415  &  False \\
416  &  False \\
417  &  False \\
418  &  False \\
419  &  False \\
420  &  False \\
421  &  False \\
422  &  False \\
423  &  False \\
424  &   True \\
425  &  False \\
426  &  False \\
427  &  False \\
428  &  False \\
429  &  False \\
430  &  False \\
431  &  False \\
432  &  False \\
433  &  False \\
434  &  False \\
435  &  False \\
436  &   True \\
437  &  False \\
438  &  False \\
439  &  False \\
440  &  False \\
441  &  False \\
442  &  False \\
443  &  False \\
444  &  False \\
445  &  False \\
446  &  False \\
447  &  False \\
448  &   True \\
449  &  False \\
450  &  False \\
451  &  False \\
452  &  False \\
453  &  False \\
454  &  False \\
455  &  False \\
456  &  False \\
457  &  False \\
458  &  False \\
459  &  False \\
460  &   True \\
461  &  False \\
462  &  False \\
463  &  False \\
464  &  False \\
465  &  False \\
466  &  False \\
467  &  False \\
468  &  False \\
469  &  False \\
470  &  False \\
471  &  False \\
472  &   True \\
473  &  False \\
474  &  False \\
475  &  False \\
476  &  False \\
477  &  False \\
478  &  False \\
479  &  False \\
480  &  False \\
481  &  False \\
482  &  False \\
483  &  False \\
484  &   True \\
485  &  False \\
486  &  False \\
487  &  False \\
488  &  False \\
489  &  False \\
490  &  False \\
491  &  False \\
492  &  False \\
493  &  False \\
494  &  False \\
495  &  False \\
496  &   True \\
497  &  False \\
498  &  False \\
499  &  False \\
500  &  False \\
501  &  False \\
502  &  False \\
503  &  False \\
504  &  False \\
505  &  False \\
506  &  False \\
507  &  False \\
508  &   True \\
509  &  False \\
510  &  False \\
511  &  False \\
512  &  False \\
513  &  False \\
514  &  False \\
515  &  False \\
516  &  False \\
517  &  False \\
518  &  False \\
519  &  False \\
520  &   True \\
521  &  False \\
522  &  False \\
523  &  False \\
524  &  False \\
525  &  False \\
526  &  False \\
527  &  False \\
528  &  False \\
529  &  False \\
530  &  False \\
531  &  False \\
532  &   True \\
533  &  False \\
534  &  False \\
535  &  False \\
536  &  False \\
537  &  False \\
538  &  False \\
539  &  False \\
540  &  False \\
541  &  False \\
542  &  False \\
543  &  False \\
544  &   True \\
545  &  False \\
546  &  False \\
547  &  False \\
548  &  False \\
549  &  False \\
550  &  False \\
551  &  False \\
552  &  False \\
553  &  False \\
554  &  False \\
555  &  False \\
556  &   True \\
557  &  False \\
558  &  False \\
559  &  False \\
560  &  False \\
561  &  False \\
562  &  False \\
563  &  False \\
564  &  False \\
565  &  False \\
566  &  False \\
567  &  False \\
568  &   True \\
569  &  False \\
570  &  False \\
571  &  False \\
572  &  False \\
573  &  False \\
574  &  False \\
575  &  False \\
576  &  False \\
577  &  False \\
578  &  False \\
579  &  False \\
580  &   True \\
581  &  False \\
582  &  False \\
583  &  False \\
584  &  False \\
585  &  False \\
586  &  False \\
587  &  False \\
588  &  False \\
589  &  False \\
590  &  False \\
591  &  False \\
592  &   True \\
593  &  False \\
594  &  False \\
595  &  False \\
596  &  False \\
597  &  False \\
598  &  False \\
599  &  False \\
600  &  False \\
601  &  False \\
602  &  False \\
603  &  False \\
604  &   True \\
605  &  False \\
606  &  False \\
607  &  False \\
608  &  False \\
609  &  False \\
610  &  False \\
611  &  False \\
612  &  False \\
613  &  False \\
614  &  False \\
615  &  False \\
616  &   True \\
617  &  False \\
618  &  False \\
619  &  False \\
620  &  False \\
621  &  False \\
622  &  False \\
623  &  False \\
624  &  False \\
625  &  False \\
626  &  False \\
627  &  False \\
628  &   True \\
629  &  False \\
630  &  False \\
631  &  False \\
632  &  False \\
633  &  False \\
634  &  False \\
635  &  False \\
636  &  False \\
637  &  False \\
638  &  False \\
639  &  False \\
640  &   True \\
641  &  False \\
642  &  False \\
643  &  False \\
644  &  False \\
645  &  False \\
646  &  False \\
647  &  False \\
648  &  False \\
649  &  False \\
650  &  False \\
651  &  False \\
652  &   True \\
653  &  False \\
654  &  False \\
655  &  False \\
656  &  False \\
657  &  False \\
658  &  False \\
659  &  False \\
660  &  False \\
661  &  False \\
662  &  False \\
663  &  False \\
664  &   True \\
665  &  False \\
666  &  False \\
667  &  False \\
668  &  False \\
669  &  False \\
670  &  False \\
671  &  False \\
672  &  False \\
673  &  False \\
674  &  False \\
675  &  False \\
676  &   True \\
677  &  False \\
678  &  False \\
679  &  False \\
680  &  False \\
681  &  False \\
682  &  False \\
683  &  False \\
684  &  False \\
685  &  False \\
686  &  False \\
687  &  False \\
688  &   True \\
689  &  False \\
690  &  False \\
691  &  False \\
692  &  False \\
693  &  False \\
694  &  False \\
695  &  False \\
696  &  False \\
697  &  False \\
698  &  False \\
699  &  False \\
700  &   True \\
701  &  False \\
702  &  False \\
703  &  False \\
704  &  False \\
705  &  False \\
706  &  False \\
707  &  False \\
708  &  False \\
709  &  False \\
710  &  False \\
711  &  False \\
712  &   True \\
713  &  False \\
714  &  False \\
715  &  False \\
716  &  False \\
717  &  False \\
718  &  False \\
719  &  False \\
720  &  False \\
721  &  False \\
722  &  False \\
723  &  False \\
724  &   True \\
725  &  False \\
726  &  False \\
727  &  False \\
728  &  False \\
729  &  False \\
730  &  False \\
731  &  False \\
732  &  False \\
733  &  False \\
734  &  False \\
735  &  False \\
736  &   True \\
737  &  False \\
738  &  False \\
739  &  False \\
740  &  False \\
741  &  False \\
742  &  False \\
743  &  False \\
744  &  False \\
745  &  False \\
746  &  False \\
747  &  False \\
748  &   True \\
749  &  False \\
750  &  False \\
751  &  False \\
752  &  False \\
753  &  False \\
754  &  False \\
755  &  False \\
756  &  False \\
757  &  False \\
758  &  False \\
759  &  False \\
760  &   True \\
761  &  False \\
762  &  False \\
763  &  False \\
764  &  False \\
765  &  False \\
766  &  False \\
767  &  False \\
768  &  False \\
769  &  False \\
770  &  False \\
771  &  False \\
772  &   True \\
773  &  False \\
774  &  False \\
775  &  False \\
776  &  False \\
777  &  False \\
778  &  False \\
779  &  False \\
780  &  False \\
781  &  False \\
782  &  False \\
783  &  False \\
784  &   True \\
785  &  False \\
786  &  False \\
787  &  False \\
788  &  False \\
789  &  False \\
790  &  False \\
791  &  False \\
792  &  False \\
793  &  False \\
794  &  False \\
795  &  False \\
796  &   True \\
797  &  False \\
798  &  False \\
799  &  False \\
800  &  False \\
801  &  False \\
802  &  False \\
803  &  False \\
804  &  False \\
805  &  False \\
806  &  False \\
807  &  False \\
808  &   True \\
809  &  False \\
810  &  False \\
811  &  False \\
812  &  False \\
813  &  False \\
814  &  False \\
815  &  False \\
816  &  False \\
817  &  False \\
818  &  False \\
819  &  False \\
820  &   True \\
821  &  False \\
822  &  False \\
823  &  False \\
824  &  False \\
825  &  False \\
826  &  False \\
827  &  False \\
828  &  False \\
829  &  False \\
830  &  False \\
831  &  False \\
832  &   True \\
833  &  False \\
834  &  False \\
835  &  False \\
836  &  False \\
837  &  False \\
838  &  False \\
839  &  False \\
840  &  False \\
841  &  False \\
842  &  False \\
843  &  False \\
844  &   True \\
845  &  False \\
846  &  False \\
847  &  False \\
848  &  False \\
849  &  False \\
850  &  False \\
851  &  False \\
852  &  False \\
853  &  False \\
854  &  False \\
855  &  False \\
856  &   True \\
857  &  False \\
858  &  False \\
859  &  False \\
860  &  False \\
861  &  False \\
862  &  False \\
863  &  False \\
864  &  False \\
865  &  False \\
866  &  False \\
867  &  False \\
868  &   True \\
869  &  False \\
870  &  False \\
871  &  False \\
872  &  False \\
873  &  False \\
874  &  False \\
875  &  False \\
876  &  False \\
877  &  False \\
878  &  False \\
879  &  False \\
880  &   True \\
881  &  False \\
882  &  False \\
883  &  False \\
884  &  False \\
885  &  False \\
886  &  False \\
887  &  False \\
888  &  False \\
889  &  False \\
890  &  False \\
891  &  False \\
892  &   True \\
893  &  False \\
894  &  False \\
895  &  False \\
896  &  False \\
897  &  False \\
898  &  False \\
899  &  False \\
900  &  False \\
901  &  False \\
902  &  False \\
903  &  False \\
904  &   True \\
905  &  False \\
906  &  False \\
907  &  False \\
908  &  False \\
909  &  False \\
910  &  False \\
911  &  False \\
912  &  False \\
913  &  False \\
914  &  False \\
915  &  False \\
916  &   True \\
917  &  False \\
918  &  False \\
919  &  False \\
920  &  False \\
921  &  False \\
922  &  False \\
923  &  False \\
924  &  False \\
925  &  False \\
926  &  False \\
927  &  False \\
928  &   True \\
929  &  False \\
930  &  False \\
931  &  False \\
932  &  False \\
933  &  False \\
934  &  False \\
935  &  False \\
936  &  False \\
937  &  False \\
938  &  False \\
939  &  False \\
940  &   True \\
941  &  False \\
942  &  False \\
943  &  False \\
944  &  False \\
945  &  False \\
946  &  False \\
947  &  False \\
948  &  False \\
949  &  False \\
950  &  False \\
951  &  False \\
952  &   True \\
953  &  False \\
954  &  False \\
955  &  False \\
956  &  False \\
957  &  False \\
958  &  False \\
959  &  False \\
960  &  False \\
961  &  False \\
962  &  False \\
963  &  False \\
964  &   True \\
965  &  False \\
966  &  False \\
967  &  False \\
968  &  False \\
969  &  False \\
970  &  False \\
971  &  False \\
972  &  False \\
973  &  False \\
974  &  False \\
975  &  False \\
976  &   True \\
977  &  False \\
978  &  False \\
979  &  False \\
980  &  False \\
981  &  False \\
982  &  False \\
983  &  False \\
984  &  False \\
985  &  False \\
986  &  False \\
987  &  False \\
988  &   True \\
989  &  False \\
990  &  False \\
991  &  False \\
992  &  False \\
993  &  False \\
994  &  False \\
995  &  False \\
996  &  False \\
997  &  False \\
998  &  False \\
999  &  False \\
1000 &   True \\
1001 &  False \\
1002 &  False \\
1003 &  False \\
1004 &  False \\
1005 &  False \\
1006 &  False \\
1007 &  False \\
1008 &  False \\
1009 &  False \\
1010 &  False \\
1011 &  False \\
1012 &   True \\
1013 &  False \\
1014 &  False \\
1015 &  False \\
1016 &  False \\
1017 &  False \\
1018 &  False \\
1019 &  False \\
1020 &  False \\
1021 &  False \\
1022 &  False \\
1023 &  False \\
1024 &   True \\
1025 &  False \\
1026 &  False \\
1027 &  False \\
1028 &  False \\
1029 &  False \\
1030 &  False \\
1031 &  False \\
1032 &  False \\
1033 &  False \\
1034 &  False \\
1035 &  False \\
1036 &   True \\
1037 &  False \\
1038 &  False \\
1039 &  False \\
1040 &  False \\
1041 &  False \\
1042 &  False \\
1043 &  False \\
1044 &  False \\
1045 &  False \\
1046 &  False \\
1047 &  False \\
1048 &   True \\
1049 &  False \\
1050 &  False \\
1051 &  False \\
1052 &  False \\
1053 &  False \\
1054 &  False \\
1055 &  False \\
1056 &  False \\
1057 &  False \\
1058 &  False \\
1059 &  False \\
1060 &   True \\
1061 &  False \\
1062 &  False \\
1063 &  False \\
1064 &  False \\
1065 &  False \\
1066 &  False \\
1067 &  False \\
1068 &  False \\
1069 &  False \\
1070 &  False \\
1071 &  False \\
1072 &   True \\
1073 &  False \\
1074 &  False \\
1075 &  False \\
1076 &  False \\
1077 &  False \\
1078 &  False \\
1079 &  False \\
1080 &  False \\
1081 &  False \\
1082 &  False \\
1083 &  False \\
1084 &   True \\
1085 &  False \\
1086 &  False \\
1087 &  False \\
1088 &  False \\
1089 &  False \\
1090 &  False \\
1091 &  False \\
1092 &  False \\
1093 &  False \\
1094 &  False \\
1095 &  False \\
1096 &   True \\
1097 &  False \\
1098 &  False \\
1099 &  False \\
1100 &  False \\
1101 &  False \\
1102 &  False \\
1103 &  False \\
1104 &  False \\
1105 &  False \\
1106 &  False \\
1107 &  False \\
1108 &   True \\
1109 &  False \\
1110 &  False \\
1111 &  False \\
1112 &  False \\
1113 &  False \\
1114 &  False \\
1115 &  False \\
1116 &  False \\
1117 &  False \\
1118 &  False \\
1119 &  False \\
1120 &   True \\
1121 &  False \\
1122 &  False \\
1123 &  False \\
1124 &  False \\
1125 &  False \\
1126 &  False \\
1127 &  False \\
1128 &  False \\
1129 &  False \\
1130 &  False \\
1131 &  False \\
1132 &   True \\
1133 &  False \\
1134 &  False \\
1135 &  False \\
1136 &  False \\
1137 &  False \\
1138 &  False \\
1139 &  False \\
1140 &  False \\
1141 &  False \\
1142 &  False \\
1143 &  False \\
1144 &   True \\
1145 &  False \\
1146 &  False \\
1147 &  False \\
1148 &  False \\
1149 &  False \\
1150 &  False \\
1151 &  False \\
1152 &  False \\
1153 &  False \\
1154 &  False \\
1155 &  False \\
1156 &   True \\
1157 &  False \\
1158 &  False \\
1159 &  False \\
1160 &  False \\
1161 &  False \\
1162 &  False \\
1163 &  False \\
1164 &  False \\
1165 &  False \\
1166 &  False \\
1167 &  False \\
1168 &   True \\
1169 &  False \\
1170 &  False \\
1171 &  False \\
1172 &  False \\
1173 &  False \\
1174 &  False \\
1175 &  False \\
1176 &  False \\
1177 &  False \\
1178 &  False \\
1179 &  False \\
1180 &   True \\
1181 &  False \\
1182 &  False \\
1183 &  False \\
1184 &  False \\
1185 &  False \\
1186 &  False \\
1187 &  False \\
1188 &  False \\
1189 &  False \\
1190 &  False \\
1191 &  False \\
1192 &   True \\
1193 &  False \\
1194 &  False \\
1195 &  False \\
1196 &  False \\
1197 &  False \\
1198 &  False \\
1199 &  False \\
1200 &  False \\
1201 &  False \\
1202 &  False \\
1203 &  False \\
1204 &   True \\
1205 &  False \\
1206 &  False \\
1207 &  False \\
1208 &  False \\
1209 &  False \\
1210 &  False \\
1211 &  False \\
1212 &  False \\
1213 &  False \\
1214 &  False \\
1215 &  False \\
1216 &   True \\
1217 &  False \\
1218 &  False \\
1219 &  False \\
1220 &  False \\
1221 &  False \\
1222 &  False \\
1223 &  False \\
1224 &  False \\
1225 &  False \\
1226 &  False \\
1227 &  False \\
1228 &   True \\
1229 &  False \\
1230 &  False \\
1231 &  False \\
1232 &  False \\
1233 &  False \\
1234 &  False \\
1235 &  False \\
1236 &  False \\
1237 &  False \\
1238 &  False \\
1239 &  False \\
1240 &   True \\
1241 &  False \\
1242 &  False \\
1243 &  False \\
1244 &  False \\
1245 &  False \\
1246 &  False \\
1247 &  False \\
1248 &  False \\
1249 &  False \\
1250 &  False \\
1251 &  False \\
1252 &   True \\
1253 &  False \\
1254 &  False \\
1255 &  False \\
1256 &  False \\
1257 &  False \\
1258 &  False \\
1259 &  False \\
1260 &  False \\
1261 &  False \\
1262 &  False \\
1263 &  False \\
1264 &   True \\
1265 &  False \\
1266 &  False \\
1267 &  False \\
1268 &  False \\
1269 &  False \\
1270 &  False \\
1271 &  False \\
1272 &  False \\
1273 &  False \\
1274 &  False \\
1275 &  False \\
1276 &   True \\
1277 &  False \\
1278 &  False \\
1279 &  False \\
1280 &  False \\
1281 &  False \\
1282 &  False \\
1283 &  False \\
1284 &  False \\
1285 &  False \\
1286 &  False \\
1287 &  False \\
1288 &   True \\
1289 &  False \\
1290 &  False \\
1291 &  False \\
1292 &  False \\
1293 &  False \\
1294 &  False \\
1295 &  False \\
1296 &  False \\
1297 &  False \\
1298 &  False \\
1299 &  False \\
1300 &   True \\
1301 &  False \\
1302 &  False \\
1303 &  False \\
1304 &  False \\
1305 &  False \\
1306 &  False \\
1307 &  False \\
1308 &  False \\
1309 &  False \\
1310 &  False \\
1311 &  False \\
1312 &   True \\
1313 &  False \\
1314 &  False \\
1315 &  False \\
1316 &  False \\
1317 &  False \\
1318 &  False \\
1319 &  False \\
1320 &  False \\
1321 &  False \\
1322 &  False \\
1323 &  False \\
1324 &   True \\
1325 &  False \\
1326 &  False \\
1327 &  False \\
1328 &  False \\
1329 &  False \\
1330 &  False \\
1331 &  False \\
1332 &  False \\
1333 &  False \\
1334 &  False \\
1335 &  False \\
1336 &   True \\
1337 &  False \\
1338 &  False \\
1339 &  False \\
1340 &  False \\
1341 &  False \\
1342 &  False \\
1343 &  False \\
1344 &  False \\
1345 &  False \\
1346 &  False \\
1347 &  False \\
1348 &   True \\
1349 &  False \\
1350 &  False \\
1351 &  False \\
1352 &  False \\
1353 &  False \\
1354 &  False \\
1355 &  False \\
1356 &  False \\
1357 &  False \\
1358 &  False \\
1359 &  False \\
1360 &   True \\
1361 &  False \\
1362 &  False \\
1363 &  False \\
1364 &  False \\
1365 &  False \\
1366 &  False \\
1367 &  False \\
1368 &  False \\
1369 &  False \\
1370 &  False \\
1371 &  False \\
1372 &   True \\
1373 &  False \\
1374 &  False \\
1375 &  False \\
1376 &  False \\
1377 &  False \\
1378 &  False \\
1379 &  False \\
1380 &  False \\
1381 &  False \\
1382 &  False \\
1383 &  False \\
1384 &   True \\
1385 &  False \\
1386 &  False \\
1387 &  False \\
1388 &  False \\
1389 &  False \\
1390 &  False \\
1391 &  False \\
1392 &  False \\
1393 &  False \\
1394 &  False \\
1395 &  False \\
1396 &   True \\
1397 &  False \\
1398 &  False \\
1399 &  False \\
1400 &  False \\
1401 &  False \\
1402 &  False \\
1403 &  False \\
1404 &  False \\
1405 &  False \\
1406 &  False \\
1407 &  False \\
1408 &   True \\
1409 &  False \\
1410 &  False \\
1411 &  False \\
1412 &  False \\
1413 &  False \\
1414 &  False \\
1415 &  False \\
1416 &  False \\
1417 &  False \\
1418 &  False \\
1419 &  False \\
1420 &   True \\
1421 &  False \\
1422 &  False \\
1423 &  False \\
1424 &  False \\
1425 &  False \\
1426 &  False \\
1427 &  False \\
1428 &  False \\
1429 &  False \\
1430 &  False \\
1431 &  False \\
1432 &   True \\
1433 &  False \\
1434 &  False \\
1435 &  False \\
1436 &  False \\
1437 &  False \\
1438 &  False \\
1439 &  False \\
1440 &  False \\
1441 &  False \\
1442 &  False \\
1443 &  False \\
1444 &   True \\
1445 &  False \\
1446 &  False \\
1447 &  False \\
1448 &  False \\
1449 &  False \\
1450 &  False \\
1451 &  False \\
1452 &  False \\
1453 &  False \\
1454 &  False \\
1455 &  False \\
1456 &   True \\
1457 &  False \\
1458 &  False \\
1459 &  False \\
1460 &  False \\
1461 &  False \\
1462 &  False \\
1463 &  False \\
1464 &  False \\
1465 &  False \\
1466 &  False \\
1467 &  False \\
1468 &   True \\
1469 &  False \\
1470 &  False \\
1471 &  False \\
1472 &  False \\
1473 &  False \\
1474 &  False \\
1475 &  False \\
1476 &  False \\
1477 &  False \\
1478 &  False \\
1479 &  False \\
1480 &   True \\
1481 &  False \\
1482 &  False \\
1483 &  False \\
1484 &  False \\
1485 &  False \\
1486 &  False \\
1487 &  False \\
1488 &  False \\
1489 &  False \\
1490 &  False \\
1491 &  False \\
1492 &   True \\
1493 &  False \\
1494 &  False \\
1495 &  False \\
1496 &  False \\
1497 &  False \\
1498 &  False \\
1499 &  False \\
1500 &  False \\
1501 &  False \\
1502 &  False \\
1503 &  False \\
1504 &   True \\
1505 &  False \\
1506 &  False \\
1507 &  False \\
1508 &  False \\
1509 &  False \\
1510 &  False \\
1511 &  False \\
1512 &  False \\
1513 &  False \\
1514 &  False \\
1515 &  False \\
1516 &   True \\
1517 &  False \\
1518 &  False \\
1519 &  False \\
1520 &  False \\
1521 &  False \\
1522 &  False \\
1523 &  False \\
1524 &  False \\
1525 &  False \\
1526 &  False \\
1527 &  False \\
1528 &   True \\
1529 &  False \\
1530 &  False \\
1531 &  False \\
1532 &  False \\
1533 &  False \\
1534 &  False \\
1535 &  False \\
1536 &  False \\
1537 &  False \\
1538 &  False \\
1539 &  False \\
1540 &   True \\
1541 &  False \\
1542 &  False \\
1543 &  False \\
1544 &  False \\
1545 &  False \\
1546 &  False \\
1547 &  False \\
1548 &  False \\
1549 &  False \\
1550 &  False \\
1551 &  False \\
1552 &   True \\
1553 &  False \\
1554 &  False \\
1555 &  False \\
1556 &  False \\
1557 &  False \\
1558 &  False \\
1559 &  False \\
1560 &  False \\
1561 &  False \\
1562 &  False \\
1563 &  False \\
1564 &   True \\
1565 &  False \\
1566 &  False \\
1567 &  False \\
1568 &  False \\
1569 &  False \\
1570 &  False \\
1571 &  False \\
1572 &  False \\
1573 &  False \\
1574 &  False \\
1575 &  False \\
1576 &   True \\
1577 &  False \\
1578 &  False \\
1579 &  False \\
1580 &  False \\
1581 &  False \\
1582 &  False \\
1583 &  False \\
1584 &  False \\
1585 &  False \\
1586 &  False \\
1587 &  False \\
1588 &   True \\
1589 &  False \\
1590 &  False \\
1591 &  False \\
1592 &  False \\
1593 &  False \\
1594 &  False \\
1595 &  False \\
1596 &  False \\
1597 &  False \\
1598 &  False \\
1599 &  False \\
1600 &   True \\
1601 &  False \\
1602 &  False \\
1603 &  False \\
1604 &  False \\
1605 &  False \\
1606 &  False \\
1607 &  False \\
1608 &  False \\
1609 &  False \\
1610 &  False \\
1611 &  False \\
1612 &   True \\
1613 &  False \\
1614 &  False \\
1615 &  False \\
1616 &  False \\
1617 &  False \\
1618 &  False \\
1619 &  False \\
1620 &  False \\
1621 &  False \\
1622 &  False \\
1623 &  False \\
1624 &   True \\
1625 &  False \\
1626 &  False \\
1627 &  False \\
1628 &  False \\
1629 &  False \\
1630 &  False \\
1631 &  False \\
1632 &  False \\
1633 &  False \\
1634 &  False \\
1635 &  False \\
1636 &   True \\
1637 &  False \\
1638 &  False \\
1639 &  False \\
1640 &  False \\
1641 &  False \\
1642 &  False \\
1643 &  False \\
1644 &  False \\
1645 &  False \\
1646 &  False \\
1647 &  False \\
1648 &   True \\
1649 &  False \\
1650 &  False \\
1651 &  False \\
1652 &  False \\
1653 &  False \\
1654 &  False \\
1655 &  False \\
1656 &  False \\
1657 &  False \\
1658 &  False \\
1659 &  False \\
1660 &   True \\
1661 &  False \\
1662 &  False \\
1663 &  False \\
1664 &  False \\
1665 &  False \\
1666 &  False \\
1667 &  False \\
1668 &  False \\
1669 &  False \\
1670 &  False \\
1671 &  False \\
1672 &   True \\
1673 &  False \\
1674 &  False \\
1675 &  False \\
1676 &  False \\
1677 &  False \\
1678 &  False \\
1679 &  False \\
1680 &  False \\
1681 &  False \\
1682 &  False \\
1683 &  False \\
1684 &   True \\
1685 &  False \\
1686 &  False \\
1687 &  False \\
1688 &  False \\
1689 &  False \\
1690 &  False \\
1691 &  False \\
1692 &  False \\
1693 &  False \\
1694 &  False \\
1695 &  False \\
1696 &   True \\
1697 &  False \\
1698 &  False \\
1699 &  False \\
1700 &  False \\
1701 &  False \\
1702 &  False \\
1703 &  False \\
\bottomrule
\end{tabular}

We can also expand this concept by adding additional conditions that
narrow or expand the number of rows filtered. Below we use the
\texttt{\&} condition to indicate that both parts of the equation need
to be fulfilled.

When combining multiple conditional statements as in the example below,
each condition must be surrounded by parentheses \texttt{()} within the
square brackets \texttt{{[}{]}}. You must use the ``or'' operator
\texttt{\textbar{}} and/or the ``and'' operator \texttt{\&} for the code
to work.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{filtered\_df }\OperatorTok{=}\NormalTok{ df[(df[}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{] }\OperatorTok{==} \DecValTok{1972}\NormalTok{) }\OperatorTok{\&}\NormalTok{ (df[}\StringTok{\textquotesingle{}country\textquotesingle{}}\NormalTok{] }\OperatorTok{==} \StringTok{\textquotesingle{}Albania\textquotesingle{}}\NormalTok{)]}
\NormalTok{filtered\_df.head()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
C:\Users\shemerli\Anaconda3\envs\ds-env\lib\site-packages\IPython\core\formatters.py:343: FutureWarning: In future versions `DataFrame.to_latex` is expected to utilise the base implementation of `Styler.to_latex` for formatting and rendering. The arguments signature may therefore change. It is recommended instead to use `DataFrame.style.to_latex` which also contains additional functionality.
  return method()
\end{verbatim}

\begin{tabular}{llrrlrr}
\toprule
{} &  country &  year &        pop & continent &  lifeExp &    gdpPercap \\
\midrule
16 &  Albania &  1972 &  2263554.0 &    Europe &    67.69 &  3313.422188 \\
\bottomrule
\end{tabular}

In the example above, there is only one row of data that matches the
condition.

Or we can use the \texttt{\textbar{}} which indicates that if
\emph{either} of the statements are true, then all the rows satisfying
either condition are returned.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{filtered\_df }\OperatorTok{=}\NormalTok{ df[(df[}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{] }\OperatorTok{==} \DecValTok{1972}\NormalTok{) }\OperatorTok{|}\NormalTok{ (df[}\StringTok{\textquotesingle{}country\textquotesingle{}}\NormalTok{] }\OperatorTok{==} \StringTok{\textquotesingle{}Albania\textquotesingle{}}\NormalTok{)]}
\NormalTok{filtered\_df.head()}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
C:\Users\shemerli\Anaconda3\envs\ds-env\lib\site-packages\IPython\core\formatters.py:343: FutureWarning: In future versions `DataFrame.to_latex` is expected to utilise the base implementation of `Styler.to_latex` for formatting and rendering. The arguments signature may therefore change. It is recommended instead to use `DataFrame.style.to_latex` which also contains additional functionality.
  return method()
\end{verbatim}

\begin{tabular}{llrrlrr}
\toprule
{} &      country &  year &         pop & continent &  lifeExp &    gdpPercap \\
\midrule
4  &  Afghanistan &  1972 &  13079460.0 &      Asia &   36.088 &   739.981106 \\
12 &      Albania &  1952 &   1282697.0 &    Europe &   55.230 &  1601.056136 \\
13 &      Albania &  1957 &   1476505.0 &    Europe &   59.280 &  1942.284244 \\
14 &      Albania &  1962 &   1728137.0 &    Europe &   64.820 &  2312.888958 \\
15 &      Albania &  1967 &   1984060.0 &    Europe &   66.220 &  2760.196931 \\
\bottomrule
\end{tabular}

In the example above, there are many rows that satisfy the condition.

\begin{tcolorbox}[enhanced jigsaw, colframe=quarto-callout-warning-color-frame, toprule=.15mm, colback=white, leftrule=.75mm, rightrule=.15mm, breakable, colbacktitle=quarto-callout-warning-color!10!white, arc=.35mm, bottomtitle=1mm, bottomrule=.15mm, titlerule=0mm, title={Challenge 2}, toptitle=1mm, left=2mm, opacityback=0, coltitle=black, opacitybacktitle=0.6]
Your director has come to you and asked if you know what the life
expectancy has been in Canada since 1992. How would you use pandas code
to get the data you need? And after having run the code, what's the
answer?
\end{tcolorbox}

\begin{tcolorbox}[enhanced jigsaw, colframe=quarto-callout-note-color-frame, toprule=.15mm, colback=white, leftrule=.75mm, rightrule=.15mm, breakable, colbacktitle=quarto-callout-note-color!10!white, arc=.35mm, bottomtitle=1mm, bottomrule=.15mm, titlerule=0mm, title={Solution to Challenge 2}, toptitle=1mm, left=2mm, opacityback=0, coltitle=black, opacitybacktitle=0.6]

First you would like to create a new object to hold this narrowed down
version of the dataset, then use some method like \texttt{.print()} or
\texttt{.head()} to see some of the resulting data.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{challenge2\_df }\OperatorTok{=}\NormalTok{ df[(df[}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{] }\OperatorTok{\textgreater{}=} \DecValTok{1992}\NormalTok{) }\OperatorTok{\&}\NormalTok{ (df[}\StringTok{\textquotesingle{}country\textquotesingle{}}\NormalTok{] }\OperatorTok{==} \StringTok{\textquotesingle{}Canada\textquotesingle{}}\NormalTok{)]}
\BuiltInTok{print}\NormalTok{(challenge2\_df)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
    country  year         pop continent  lifeExp    gdpPercap
248  Canada  1992  28523502.0  Americas   77.950  26342.88426
249  Canada  1997  30305843.0  Americas   78.610  28954.92589
250  Canada  2002  31902268.0  Americas   79.770  33328.96507
251  Canada  2007  33390141.0  Americas   80.653  36319.23501
\end{verbatim}

\end{tcolorbox}

You will find that it is very common within python/pandas to see the
\texttt{.iloc()} method.

The \texttt{.iloc()} method identifies rows based on their index value
(that column to the left of the dataframe when you call the .head()
function, for example). It can be used to look at individual rows of
data by their original index value.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.iloc[}\DecValTok{251}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
C:\Users\shemerli\Anaconda3\envs\ds-env\lib\site-packages\IPython\core\formatters.py:343: FutureWarning: In future versions `DataFrame.to_latex` is expected to utilise the base implementation of `Styler.to_latex` for formatting and rendering. The arguments signature may therefore change. It is recommended instead to use `DataFrame.style.to_latex` which also contains additional functionality.
  return method()
\end{verbatim}

\begin{tabular}{ll}
\toprule
{} &          251 \\
\midrule
country   &       Canada \\
year      &         2007 \\
pop       &   33390141.0 \\
continent &     Americas \\
lifeExp   &       80.653 \\
gdpPercap &  36319.23501 \\
\bottomrule
\end{tabular}

Or it can be used to call multiple rows in a range:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df.iloc[}\DecValTok{0}\NormalTok{:}\DecValTok{5}\NormalTok{]}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
C:\Users\shemerli\Anaconda3\envs\ds-env\lib\site-packages\IPython\core\formatters.py:343: FutureWarning: In future versions `DataFrame.to_latex` is expected to utilise the base implementation of `Styler.to_latex` for formatting and rendering. The arguments signature may therefore change. It is recommended instead to use `DataFrame.style.to_latex` which also contains additional functionality.
  return method()
\end{verbatim}

\begin{tabular}{llrrlrr}
\toprule
{} &      country &  year &         pop & continent &  lifeExp &   gdpPercap \\
\midrule
0 &  Afghanistan &  1952 &   8425333.0 &      Asia &   28.801 &  779.445314 \\
1 &  Afghanistan &  1957 &   9240934.0 &      Asia &   30.332 &  820.853030 \\
2 &  Afghanistan &  1962 &  10267083.0 &      Asia &   31.997 &  853.100710 \\
3 &  Afghanistan &  1967 &  11537966.0 &      Asia &   34.020 &  836.197138 \\
4 &  Afghanistan &  1972 &  13079460.0 &      Asia &   36.088 &  739.981106 \\
\bottomrule
\end{tabular}

\hypertarget{sorting-rows}{%
\section{Sorting rows}\label{sorting-rows}}

So now you've mastered how to select rows and columns you want,
congratulations! Instead of hunting and pecking for insights, one way to
quickly make some sense of the data is to sort it - something you
probably do in Excel all the time.

In the challenge above we created a dataframe ``challenge2\_df'' with
just the one country in it and from 1997. So now let's sort the data by
year, and then see what can spot any insights. To do this, we use the
\texttt{.sort\_values()} method.

Let's go fetch and look at the dataframe, and use this method to sort by
year, going from more recent to less recent:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{challenge2\_df.sort\_values(}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, ascending}\OperatorTok{=}\VariableTok{False}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
C:\Users\shemerli\Anaconda3\envs\ds-env\lib\site-packages\IPython\core\formatters.py:343: FutureWarning: In future versions `DataFrame.to_latex` is expected to utilise the base implementation of `Styler.to_latex` for formatting and rendering. The arguments signature may therefore change. It is recommended instead to use `DataFrame.style.to_latex` which also contains additional functionality.
  return method()
\end{verbatim}

\begin{tabular}{llrrlrr}
\toprule
{} & country &  year &         pop & continent &  lifeExp &    gdpPercap \\
\midrule
251 &  Canada &  2007 &  33390141.0 &  Americas &   80.653 &  36319.23501 \\
250 &  Canada &  2002 &  31902268.0 &  Americas &   79.770 &  33328.96507 \\
249 &  Canada &  1997 &  30305843.0 &  Americas &   78.610 &  28954.92589 \\
248 &  Canada &  1992 &  28523502.0 &  Americas &   77.950 &  26342.88426 \\
\bottomrule
\end{tabular}

\hypertarget{putting-multiple-methods-together-chaining}{%
\section{Putting multiple methods together
(chaining)}\label{putting-multiple-methods-together-chaining}}

You can also put multiple methods in the same line of code, as long as
you separate each of the elements. In pandas, this is called ``method
chaining'', as you are essentially of creating a chain of actions to
take place.

In the example below, the chain consists of two links:

\begin{enumerate}
\def\labelenumi{\arabic{enumi}.}
\tightlist
\item
  Select just the rows where the country is equal to Canada AND where
  the year is 1997 or greater
\item
  Take these rows and sort them by year, going from high to low values,
  top to bottom
\end{enumerate}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{chained\_df }\OperatorTok{=}\NormalTok{ df[(df[}\StringTok{\textquotesingle{}country\textquotesingle{}}\NormalTok{] }\OperatorTok{==} \StringTok{\textquotesingle{}Canada\textquotesingle{}}\NormalTok{) }\OperatorTok{\&}\NormalTok{ (df[}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{] }\OperatorTok{\textgreater{}=} \DecValTok{1997}\NormalTok{)].sort\_values(}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, ascending }\OperatorTok{=} \VariableTok{False}\NormalTok{)}
\NormalTok{chained\_df.head(}\DecValTok{3}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
C:\Users\shemerli\Anaconda3\envs\ds-env\lib\site-packages\IPython\core\formatters.py:343: FutureWarning: In future versions `DataFrame.to_latex` is expected to utilise the base implementation of `Styler.to_latex` for formatting and rendering. The arguments signature may therefore change. It is recommended instead to use `DataFrame.style.to_latex` which also contains additional functionality.
  return method()
\end{verbatim}

\begin{tabular}{llrrlrr}
\toprule
{} & country &  year &         pop & continent &  lifeExp &    gdpPercap \\
\midrule
251 &  Canada &  2007 &  33390141.0 &  Americas &   80.653 &  36319.23501 \\
250 &  Canada &  2002 &  31902268.0 &  Americas &   79.770 &  33328.96507 \\
249 &  Canada &  1997 &  30305843.0 &  Americas &   78.610 &  28954.92589 \\
\bottomrule
\end{tabular}

Another way of chaining is to put each of the functions on multiple
lines. In the example below, each line of code modifies the dataframe to
acheive the same result as above.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{chained2\_df }\OperatorTok{=}\NormalTok{ df[(df[}\StringTok{\textquotesingle{}country\textquotesingle{}}\NormalTok{] }\OperatorTok{==} \StringTok{\textquotesingle{}Canada\textquotesingle{}}\NormalTok{)]}
\NormalTok{chained2\_df }\OperatorTok{=}\NormalTok{ chained2\_df[(chained2\_df[}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{] }\OperatorTok{\textgreater{}=} \DecValTok{1997}\NormalTok{)]}
\NormalTok{chained2\_df }\OperatorTok{=}\NormalTok{ chained2\_df.sort\_values(}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, ascending}\OperatorTok{=}\VariableTok{False}\NormalTok{)}
\NormalTok{chained2\_df.head(}\DecValTok{3}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
C:\Users\shemerli\Anaconda3\envs\ds-env\lib\site-packages\IPython\core\formatters.py:343: FutureWarning: In future versions `DataFrame.to_latex` is expected to utilise the base implementation of `Styler.to_latex` for formatting and rendering. The arguments signature may therefore change. It is recommended instead to use `DataFrame.style.to_latex` which also contains additional functionality.
  return method()
\end{verbatim}

\begin{tabular}{llrrlrr}
\toprule
{} & country &  year &         pop & continent &  lifeExp &    gdpPercap \\
\midrule
251 &  Canada &  2007 &  33390141.0 &  Americas &   80.653 &  36319.23501 \\
250 &  Canada &  2002 &  31902268.0 &  Americas &   79.770 &  33328.96507 \\
249 &  Canada &  1997 &  30305843.0 &  Americas &   78.610 &  28954.92589 \\
\bottomrule
\end{tabular}

This latter approach is very common. Each respective line to the right
of the \texttt{=} contains the code that modifies the object assigned to
the left of it. Note that you can use a combination of chaining and
piping.

Each line is executed in sequence, so be careful when constructing code
that the order in which you modify your dataframe is right. Take the
example below, in which we want to find European values for GDP per
capita. In it, we first have a line of code that selects the rows that
contain ``Europe'' in the first line, then looks at the column values
for ``year'', ``country'', and ``gdpPercap''.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{year\_country\_gdp }\OperatorTok{=}\NormalTok{ df[(df[}\StringTok{\textquotesingle{}continent\textquotesingle{}}\NormalTok{] }\OperatorTok{==} \StringTok{\textquotesingle{}Europe\textquotesingle{}}\NormalTok{)]}
\NormalTok{year\_country\_gdp }\OperatorTok{=}\NormalTok{ year\_country\_gdp[[}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}country\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}gdpPercap\textquotesingle{}}\NormalTok{]]}
\NormalTok{year\_country\_gdp.head(}\DecValTok{3}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
C:\Users\shemerli\Anaconda3\envs\ds-env\lib\site-packages\IPython\core\formatters.py:343: FutureWarning: In future versions `DataFrame.to_latex` is expected to utilise the base implementation of `Styler.to_latex` for formatting and rendering. The arguments signature may therefore change. It is recommended instead to use `DataFrame.style.to_latex` which also contains additional functionality.
  return method()
\end{verbatim}

\begin{tabular}{lrlr}
\toprule
{} &  year &  country &    gdpPercap \\
\midrule
12 &  1952 &  Albania &  1601.056136 \\
13 &  1957 &  Albania &  1942.284244 \\
14 &  1962 &  Albania &  2312.888958 \\
\bottomrule
\end{tabular}

Had we reversed the lines of code, and selected the ``year'',
``country'', and ``gdpPercap'' columns first to put into our new object,
we would not have been able to sort for ``Europe'' in the ``continent''
column, as the ``continent'' would have been essentially removed from
the dataframe in the step above, so python would have thrown an error.

\begin{tcolorbox}[enhanced jigsaw, colframe=quarto-callout-warning-color-frame, toprule=.15mm, colback=white, leftrule=.75mm, rightrule=.15mm, breakable, colbacktitle=quarto-callout-warning-color!10!white, arc=.35mm, bottomtitle=1mm, bottomrule=.15mm, titlerule=0mm, title={Challenge 3}, toptitle=1mm, left=2mm, opacityback=0, coltitle=black, opacitybacktitle=0.6]
Your director has come back to you and wondered about whether the life
expectancy of people changed during the 1970s in Cambodia. Use what you
know about selecting rows and sorting data to get the data you need to
answer the question.
\end{tcolorbox}

\begin{tcolorbox}[enhanced jigsaw, colframe=quarto-callout-note-color-frame, toprule=.15mm, colback=white, leftrule=.75mm, rightrule=.15mm, breakable, colbacktitle=quarto-callout-note-color!10!white, arc=.35mm, bottomtitle=1mm, bottomrule=.15mm, titlerule=0mm, title={Solution to Challenge 3}, toptitle=1mm, left=2mm, opacityback=0, coltitle=black, opacitybacktitle=0.6]

Using code to select the country Cambodia, then call
\texttt{sort\_values()} method and chain them together. Looking at the
data we see that in the 1970s there was a sharp decline in life
expectancy in Cambodia. We also see, thankfully, that it has recovered
strongly since then.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{challenge3\_df }\OperatorTok{=}\NormalTok{ df[(df[}\StringTok{\textquotesingle{}country\textquotesingle{}}\NormalTok{] }\OperatorTok{==} \StringTok{\textquotesingle{}Cambodia\textquotesingle{}}\NormalTok{)].sort\_values(}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{, ascending }\OperatorTok{=} \VariableTok{False}\NormalTok{)}
\BuiltInTok{print}\NormalTok{(challenge3\_df)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
      country  year         pop continent  lifeExp    gdpPercap
227  Cambodia  2007  14131858.0      Asia   59.723  1713.778686
226  Cambodia  2002  12926707.0      Asia   56.752   896.226015
225  Cambodia  1997  11782962.0      Asia   56.534   734.285170
224  Cambodia  1992  10150094.0      Asia   55.803   682.303175
223  Cambodia  1987   8371791.0      Asia   53.914   683.895573
222  Cambodia  1982   7272485.0      Asia   50.957   624.475478
221  Cambodia  1977   6978607.0      Asia   31.220   524.972183
220  Cambodia  1972   7450606.0      Asia   40.317   421.624026
219  Cambodia  1967   6960067.0      Asia   45.415   523.432314
218  Cambodia  1962   6083619.0      Asia   43.415   496.913648
217  Cambodia  1957   5322536.0      Asia   41.366   434.038336
216  Cambodia  1952   4693836.0      Asia   39.417   368.469286
\end{verbatim}

\end{tcolorbox}

\hypertarget{creating-new-columns-of-data}{%
\section{Creating new columns of
data}\label{creating-new-columns-of-data}}

Very often we have some data in our dataset that we want to transform to
give us additional information. In Excel this is something that is done
all the time by creating a formula in a cell that refers to other
columns and applies some sort of logic or mathematical expression to it.

There are different ways you can go about this in pandas. The most
straightforward way is to define a new column on the left of the
\texttt{=} and then reference the existing column and whatever
additional conditions you would like on the right. In the example below,
the existing population variable ``pop'' is converted to a value that
shows population in millions.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{new\_cols\_df }\OperatorTok{=}\NormalTok{ df}
\NormalTok{new\_cols\_df[}\StringTok{\textquotesingle{}pop\_millions\textquotesingle{}}\NormalTok{] }\OperatorTok{=}\NormalTok{ new\_cols\_df[}\StringTok{\textquotesingle{}pop\textquotesingle{}}\NormalTok{]}\OperatorTok{/}\DecValTok{1000000}
\NormalTok{new\_cols\_df.head(}\DecValTok{2}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
C:\Users\shemerli\Anaconda3\envs\ds-env\lib\site-packages\IPython\core\formatters.py:343: FutureWarning: In future versions `DataFrame.to_latex` is expected to utilise the base implementation of `Styler.to_latex` for formatting and rendering. The arguments signature may therefore change. It is recommended instead to use `DataFrame.style.to_latex` which also contains additional functionality.
  return method()
\end{verbatim}

\begin{tabular}{llrrlrrr}
\toprule
{} &      country &  year &        pop & continent &  lifeExp &   gdpPercap &  pop\_millions \\
\midrule
0 &  Afghanistan &  1952 &  8425333.0 &      Asia &   28.801 &  779.445314 &      8.425333 \\
1 &  Afghanistan &  1957 &  9240934.0 &      Asia &   30.332 &  820.853030 &      9.240934 \\
\bottomrule
\end{tabular}

So now we can see which countries had the biggest GDP in 2007. Notice
that the GDP data is in scientific notation (i.e.~the decimal number
times x number of zeros), so it's a bit hard to read. If we wanted
readers to consume that data we would go ahead and change the data type
for it. But for current purposes we'll leave that alone.

There is a special python function called \texttt{lambda}. It is known
as an anonymous function, because it is not given a name other than
lambda, and can take any number of arguments in an expression.

The \texttt{.assign()} method looks at this expression with lambda in it
and returns the value it is asked to do. This is how it comes all
together to give us actual GDP for each row in our dataframe:

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{new\_df }\OperatorTok{=}\NormalTok{ df.assign(gdp}\OperatorTok{=}\KeywordTok{lambda}\NormalTok{ x: x[}\StringTok{\textquotesingle{}pop\textquotesingle{}}\NormalTok{] }\OperatorTok{*}\NormalTok{ x[}\StringTok{\textquotesingle{}gdpPercap\textquotesingle{}}\NormalTok{])}
\NormalTok{new\_df.head(}\DecValTok{5}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
C:\Users\shemerli\Anaconda3\envs\ds-env\lib\site-packages\IPython\core\formatters.py:343: FutureWarning: In future versions `DataFrame.to_latex` is expected to utilise the base implementation of `Styler.to_latex` for formatting and rendering. The arguments signature may therefore change. It is recommended instead to use `DataFrame.style.to_latex` which also contains additional functionality.
  return method()
\end{verbatim}

\begin{tabular}{llrrlrrrr}
\toprule
{} &      country &  year &         pop & continent &  lifeExp &   gdpPercap &  pop\_millions &           gdp \\
\midrule
0 &  Afghanistan &  1952 &   8425333.0 &      Asia &   28.801 &  779.445314 &      8.425333 &  6.567086e+09 \\
1 &  Afghanistan &  1957 &   9240934.0 &      Asia &   30.332 &  820.853030 &      9.240934 &  7.585449e+09 \\
2 &  Afghanistan &  1962 &  10267083.0 &      Asia &   31.997 &  853.100710 &     10.267083 &  8.758856e+09 \\
3 &  Afghanistan &  1967 &  11537966.0 &      Asia &   34.020 &  836.197138 &     11.537966 &  9.648014e+09 \\
4 &  Afghanistan &  1972 &  13079460.0 &      Asia &   36.088 &  739.981106 &     13.079460 &  9.678553e+09 \\
\bottomrule
\end{tabular}

Python allows us to create our own custom functions which we can use
together with lambda. We won't create out own function here, but they we
can make functions do any number of things, like double a number or
convert celcius to fahrenheit, or whatever. Let's assume that we have
created a function and assigned it the name ``myfunc''.

We could and add it inline with \texttt{lambda} together with the
\texttt{.apply()} function as in this example, which applies the
function to a particular column:

df{[}`new\_col'{]} = df{[}`old\_col'{]}\texttt{.apply}(\texttt{lambda}
x: \texttt{myfunc}(x))

Finally, the example below would call, not just one column, but
\emph{all columns} (i.e.~axis=1) in a dataframe to produce the new
column result:

df{[}`new\_col'{]} = df\texttt{.apply}(\texttt{lambda} x:
\texttt{myfunc}(x), axis=1)

\hypertarget{joining-datasets-together}{%
\section{Joining datasets together}\label{joining-datasets-together}}

One of the most important tasks in data analysis is to be able to join
multiple datasets together. With pandas, there are functions called
\texttt{.merge()} and \texttt{.join()} that are similar to each other.
As \texttt{.merge()} is perhaps the more used, intuitive, and powerful
of the two, we will introduce that method in this tutorial in some
depth. There is also a cool function called \texttt{.concat()} that will
be introduced below as well.

But first, let's get a second file that gives us country size in square
kilometers by country. We will use this data to put together with our df
dataframe.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{countrysize\_url }\OperatorTok{=} \StringTok{"https://raw.githubusercontent.com/bcgov/ds{-}intro{-}to{-}python/main/data/countrysize.csv"}
\NormalTok{countrysize }\OperatorTok{=}\NormalTok{ pd.read\_csv(countrysize\_url, encoding}\OperatorTok{=} \StringTok{\textquotesingle{}unicode\_escape\textquotesingle{}}\NormalTok{)}
\NormalTok{countrysize.info()}
\NormalTok{countrysize.sample(}\DecValTok{2}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
<class 'pandas.core.frame.DataFrame'>
RangeIndex: 235 entries, 0 to 234
Data columns (total 2 columns):
 #   Column           Non-Null Count  Dtype 
---  ------           --------------  ----- 
 0   nation           235 non-null    object
 1   area_square_kms  235 non-null    int64 
dtypes: int64(1), object(1)
memory usage: 3.8+ KB
\end{verbatim}

\begin{verbatim}
C:\Users\shemerli\Anaconda3\envs\ds-env\lib\site-packages\IPython\core\formatters.py:343: FutureWarning: In future versions `DataFrame.to_latex` is expected to utilise the base implementation of `Styler.to_latex` for formatting and rendering. The arguments signature may therefore change. It is recommended instead to use `DataFrame.style.to_latex` which also contains additional functionality.
  return method()
\end{verbatim}

\begin{tabular}{llr}
\toprule
{} &             nation &  area\_square\_kms \\
\midrule
144 &  Equatorial Guinea &            28051 \\
129 &           Slovakia &            49037 \\
\bottomrule
\end{tabular}

Ok, this \texttt{countrysize} dataset looks like we expect - a list of
countries alongside the land size of that country in square kilometers.
There are some omissions in this list - not all countries in our
\texttt{df} dataset are present in this \texttt{countrysize} object. But
for our present purposes this is ok. We just want to get that square
kilometers data into a combined dataset and it is sufficient for that.

Essentially what we want to do is a classic ``left-join'' operation of
the sort in the diagram below. Conceptually, the \texttt{df} dataset is
like the purple table and the \texttt{countrysize} dataset is like the
red one.

Types of Joins

The \texttt{.merge()} method
(https://pandas.pydata.org/docs/reference/api/pandas.merge.html) works
similarly to how table joining works in \texttt{SQL} or how the
\texttt{VLOOKUP} function works in Excel. One needs to specify both
dataframes, the key variables on which to join them, and the kind of
join desired.

So let's look at the example below to see how it all comes together in
code.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{combined\_df }\OperatorTok{=}\NormalTok{ df.merge(countrysize, left\_on}\OperatorTok{=}\StringTok{\textquotesingle{}country\textquotesingle{}}\NormalTok{, right\_on}\OperatorTok{=}\StringTok{\textquotesingle{}nation\textquotesingle{}}\NormalTok{, how}\OperatorTok{=}\StringTok{\textquotesingle{}left\textquotesingle{}}\NormalTok{)}
\NormalTok{combined\_df.head(}\DecValTok{2}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
C:\Users\shemerli\Anaconda3\envs\ds-env\lib\site-packages\IPython\core\formatters.py:343: FutureWarning: In future versions `DataFrame.to_latex` is expected to utilise the base implementation of `Styler.to_latex` for formatting and rendering. The arguments signature may therefore change. It is recommended instead to use `DataFrame.style.to_latex` which also contains additional functionality.
  return method()
\end{verbatim}

\begin{tabular}{llrrlrrrlr}
\toprule
{} &      country &  year &        pop & continent &  lifeExp &   gdpPercap &  pop\_millions &       nation &  area\_square\_kms \\
\midrule
0 &  Afghanistan &  1952 &  8425333.0 &      Asia &   28.801 &  779.445314 &      8.425333 &  Afghanistan &         652230.0 \\
1 &  Afghanistan &  1957 &  9240934.0 &      Asia &   30.332 &  820.853030 &      9.240934 &  Afghanistan &         652230.0 \\
\bottomrule
\end{tabular}

When you run the code above you will notice that both the
\texttt{nation} key column and the \texttt{area\_square\_kms} column
have been joined together in the new \texttt{combined\_df} object. One
can keep that nation column in there for control purposes, or it can be
removed by using the \texttt{.drop()} method we used earlier:

combined\_df = combined\_df.drop(`nation', axis=1)

Another innovative way to put ``merge'' data together in pandas is with
the \texttt{.concat()} function. Conceptually you can think if it like
``stacking'' two data objects on top of each other or side-by-side as
shown in the diagram below.

Ways to stack data

To illustrate, let's fetch two simple dataframes. Each contains the
average scores for three subjects by year for two separate schools.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{school1\_url  }\OperatorTok{=} \StringTok{"https://raw.githubusercontent.com/bcgov/ds{-}intro{-}to{-}python/main/data/school1.csv"}
\NormalTok{school2\_url  }\OperatorTok{=} \StringTok{"https://raw.githubusercontent.com/bcgov/ds{-}intro{-}to{-}python/main/data/school2.csv"}
\NormalTok{school1\_df }\OperatorTok{=}\NormalTok{ pd.read\_csv(school1\_url)}
\NormalTok{school2\_df }\OperatorTok{=}\NormalTok{ pd.read\_csv(school2\_url)}
\end{Highlighting}
\end{Shaded}

Let's take a quick look at the two dataframes.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{school1\_df}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
C:\Users\shemerli\Anaconda3\envs\ds-env\lib\site-packages\IPython\core\formatters.py:343: FutureWarning: In future versions `DataFrame.to_latex` is expected to utilise the base implementation of `Styler.to_latex` for formatting and rendering. The arguments signature may therefore change. It is recommended instead to use `DataFrame.style.to_latex` which also contains additional functionality.
  return method()
\end{verbatim}

\begin{tabular}{llrrr}
\toprule
{} &  Subject &  Avg Score 2018 &  Avg Score 2019 &  Avg Score 2020 \\
\midrule
0 &  Science &              67 &              88 &              89 \\
1 &  English &              86 &              67 &              77 \\
2 &     Math &              84 &              73 &              75 \\
\bottomrule
\end{tabular}

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{school2\_df}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
C:\Users\shemerli\Anaconda3\envs\ds-env\lib\site-packages\IPython\core\formatters.py:343: FutureWarning: In future versions `DataFrame.to_latex` is expected to utilise the base implementation of `Styler.to_latex` for formatting and rendering. The arguments signature may therefore change. It is recommended instead to use `DataFrame.style.to_latex` which also contains additional functionality.
  return method()
\end{verbatim}

\begin{tabular}{llrrr}
\toprule
{} &  Subject &  Avg Score 2018 &  Avg Score 2019 &  Avg Score 2020 \\
\midrule
0 &  Science &              32 &              88 &              90 \\
1 &  English &              88 &              44 &              77 \\
2 &     Math &              84 &              73 &              53 \\
\bottomrule
\end{tabular}

We call \texttt{.concat()} and pass in the objects that we want to stack
vertically. This is a similiar operation to \texttt{union} in
\texttt{SQL}.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{vertical\_stack\_df }\OperatorTok{=}\NormalTok{ pd.concat([school1\_df, school2\_df])}
\NormalTok{vertical\_stack\_df}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
C:\Users\shemerli\Anaconda3\envs\ds-env\lib\site-packages\IPython\core\formatters.py:343: FutureWarning: In future versions `DataFrame.to_latex` is expected to utilise the base implementation of `Styler.to_latex` for formatting and rendering. The arguments signature may therefore change. It is recommended instead to use `DataFrame.style.to_latex` which also contains additional functionality.
  return method()
\end{verbatim}

\begin{tabular}{llrrr}
\toprule
{} &  Subject &  Avg Score 2018 &  Avg Score 2019 &  Avg Score 2020 \\
\midrule
0 &  Science &              67 &              88 &              89 \\
1 &  English &              86 &              67 &              77 \\
2 &     Math &              84 &              73 &              75 \\
0 &  Science &              32 &              88 &              90 \\
1 &  English &              88 &              44 &              77 \\
2 &     Math &              84 &              73 &              53 \\
\bottomrule
\end{tabular}

It is also possible to stack the data horizontally. Here it is necessary
to specify the columnar axis (axis=1) as the default setting is for rows
(axis=0).

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{horizontal\_stack }\OperatorTok{=}\NormalTok{ pd.concat([school1\_df, school2\_df], axis}\OperatorTok{=}\DecValTok{1}\NormalTok{)}
\NormalTok{horizontal\_stack}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
C:\Users\shemerli\Anaconda3\envs\ds-env\lib\site-packages\IPython\core\formatters.py:343: FutureWarning: In future versions `DataFrame.to_latex` is expected to utilise the base implementation of `Styler.to_latex` for formatting and rendering. The arguments signature may therefore change. It is recommended instead to use `DataFrame.style.to_latex` which also contains additional functionality.
  return method()
\end{verbatim}

\begin{tabular}{llrrrlrrr}
\toprule
{} &  Subject &  Avg Score 2018 &  Avg Score 2019 &  Avg Score 2020 &  Subject &  Avg Score 2018 &  Avg Score 2019 &  Avg Score 2020 \\
\midrule
0 &  Science &              67 &              88 &              89 &  Science &              32 &              88 &              90 \\
1 &  English &              86 &              67 &              77 &  English &              88 &              44 &              77 \\
2 &     Math &              84 &              73 &              75 &     Math &              84 &              73 &              53 \\
\bottomrule
\end{tabular}

This introduction only scratches the surface of how to leverage this way
of joining datasets together. But it can be a powerful tool in the
toolkit for the right use case. More detail found here:
https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.concat.html

\hypertarget{grouping-and-summarizing}{%
\section{Grouping and summarizing}\label{grouping-and-summarizing}}

Sometimes of course you would prefer to group rows together for the
purpose of summarizing them in various ways.

We can accomplish this using the \texttt{.groupby()} method. A
\texttt{.groupby()} operation involves some combination of splitting the
object, applying a function, and combining the results. It is used
together with one or more aggregation functions:

\begin{itemize}
\tightlist
\item
  \texttt{count()}: Total number of items
\item
  \texttt{first()}, \texttt{last()}: First and last item
\item
  \texttt{mean()}, \texttt{median()}: Mean and median
\item
  \texttt{min()}, \texttt{max()}: Minimum and maximum
\item
  \texttt{std()}, \texttt{var()}: Standard deviation and variance
\item
  \texttt{mad()}: Mean absolute deviation
\item
  \texttt{prod()}: Product of all items
\item
  \texttt{sum()}: Sum of all items
\end{itemize}

With our data, let's use these tools to get population mean, min and max
by continent. Here's how it works.

First we place ``continent'' in the \texttt{.groupby()} function, then
we pass the aggregation functions ``mean'', ``min'', and ``max'' as a
dictionary within the \texttt{.agg()} function. This dictionary takes
the column that we are aggregating - in this case life expectancy - as a
key and the aggregation functions as its value.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{grouped\_single }\OperatorTok{=}\NormalTok{ df.groupby(}\StringTok{\textquotesingle{}continent\textquotesingle{}}\NormalTok{).agg(\{}\StringTok{\textquotesingle{}lifeExp\textquotesingle{}}\NormalTok{: [}\StringTok{\textquotesingle{}mean\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}min\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}max\textquotesingle{}}\NormalTok{]\})}
\NormalTok{grouped\_single.columns }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}lifeExp\_mean\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}lifeExp\_min\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}lifeExp\_max\textquotesingle{}}\NormalTok{]}
\NormalTok{grouped\_single.head(}\DecValTok{10}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
C:\Users\shemerli\Anaconda3\envs\ds-env\lib\site-packages\IPython\core\formatters.py:343: FutureWarning: In future versions `DataFrame.to_latex` is expected to utilise the base implementation of `Styler.to_latex` for formatting and rendering. The arguments signature may therefore change. It is recommended instead to use `DataFrame.style.to_latex` which also contains additional functionality.
  return method()
\end{verbatim}

\begin{tabular}{lrrr}
\toprule
{} &  lifeExp\_mean &  lifeExp\_min &  lifeExp\_max \\
continent &               &              &              \\
\midrule
Africa    &     48.865330 &       23.599 &       76.442 \\
Americas  &     64.658737 &       37.579 &       80.653 \\
Asia      &     60.064903 &       28.801 &       82.603 \\
Europe    &     71.903686 &       43.585 &       81.757 \\
Oceania   &     74.326208 &       69.120 &       81.235 \\
\bottomrule
\end{tabular}

We can nest additional ``groups within groups'' by creating a list of
column names and passing that to the \texttt{.groupby()} function
instead of passing a single string value. The example below adds more
granularity with the introduction of `country' and the creation of a
list to hold both `continent' and `country'.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{grouped\_multiple }\OperatorTok{=}\NormalTok{ df.groupby([}\StringTok{\textquotesingle{}continent\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}country\textquotesingle{}}\NormalTok{]).agg(\{}\StringTok{\textquotesingle{}pop\textquotesingle{}}\NormalTok{: [}\StringTok{\textquotesingle{}mean\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}min\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}max\textquotesingle{}}\NormalTok{]\})}
\NormalTok{grouped\_multiple.columns }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}pop\_mean\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}pop\_min\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}pop\_max\textquotesingle{}}\NormalTok{]}
\NormalTok{grouped\_multiple.head(}\DecValTok{10}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
C:\Users\shemerli\Anaconda3\envs\ds-env\lib\site-packages\IPython\core\formatters.py:343: FutureWarning: In future versions `DataFrame.to_latex` is expected to utilise the base implementation of `Styler.to_latex` for formatting and rendering. The arguments signature may therefore change. It is recommended instead to use `DataFrame.style.to_latex` which also contains additional functionality.
  return method()
\end{verbatim}

\begin{tabular}{llrrr}
\toprule
       &         &      pop\_mean &    pop\_min &     pop\_max \\
continent & country &               &            &             \\
\midrule
Africa & Algeria &  1.987541e+07 &  9279525.0 &  33333216.0 \\
       & Angola &  7.309390e+06 &  4232095.0 &  12420476.0 \\
       & Benin &  4.017497e+06 &  1738315.0 &   8078314.0 \\
       & Botswana &  9.711862e+05 &   442308.0 &   1639131.0 \\
       & Burkina Faso &  7.548677e+06 &  4469979.0 &  14326203.0 \\
       & Burundi &  4.651608e+06 &  2445618.0 &   8390505.0 \\
       & Cameroon &  9.816648e+06 &  5009067.0 &  17696293.0 \\
       & Central African Republic &  2.560963e+06 &  1291695.0 &   4369038.0 \\
       & Chad &  5.329256e+06 &  2682462.0 &  10238807.0 \\
       & Comoros &  3.616839e+05 &   153936.0 &    710960.0 \\
\bottomrule
\end{tabular}

\begin{tcolorbox}[enhanced jigsaw, colframe=quarto-callout-warning-color-frame, toprule=.15mm, colback=white, leftrule=.75mm, rightrule=.15mm, breakable, colbacktitle=quarto-callout-warning-color!10!white, arc=.35mm, bottomtitle=1mm, bottomrule=.15mm, titlerule=0mm, title={Challenge 4}, toptitle=1mm, left=2mm, opacityback=0, coltitle=black, opacitybacktitle=0.6]
You would like to summarize life expectancy by year for each continent
so you can get an idea of trends from 1997 to 2007. Pick some
aggregations that would make sense to look at for this task.
\end{tcolorbox}

\begin{tcolorbox}[enhanced jigsaw, colframe=quarto-callout-note-color-frame, toprule=.15mm, colback=white, leftrule=.75mm, rightrule=.15mm, breakable, colbacktitle=quarto-callout-note-color!10!white, arc=.35mm, bottomtitle=1mm, bottomrule=.15mm, titlerule=0mm, title={Solution to Challenge 4}, toptitle=1mm, left=2mm, opacityback=0, coltitle=black, opacitybacktitle=0.6]

Using what we learned about how to select rows, we should limit the
dataframe to rows where the year is greater than or equal to 1997. Next
we should create a multicolumn call to the \texttt{.groupby()} function.
Finally we should select some aggregations such as mean, min, and max
among others could make sense here.

\begin{Shaded}
\begin{Highlighting}[]
\NormalTok{df\_current }\OperatorTok{=}\NormalTok{ df[df[}\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{] }\OperatorTok{\textgreater{}=} \DecValTok{1997}\NormalTok{]}
\NormalTok{cont\_year }\OperatorTok{=}\NormalTok{ df\_current.groupby([}\StringTok{\textquotesingle{}continent\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}year\textquotesingle{}}\NormalTok{]).agg(\{}\StringTok{\textquotesingle{}lifeExp\textquotesingle{}}\NormalTok{: [}\StringTok{\textquotesingle{}mean\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}median\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}min\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}max\textquotesingle{}}\NormalTok{]\})}
\NormalTok{cont\_year.columns }\OperatorTok{=}\NormalTok{ [}\StringTok{\textquotesingle{}lifeExp\_mean\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}lifeExp\_median\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}lifeExp\_min\textquotesingle{}}\NormalTok{, }\StringTok{\textquotesingle{}lifeExp\_max\textquotesingle{}}\NormalTok{]}
\NormalTok{cont\_year.head(}\DecValTok{20}\NormalTok{)}
\end{Highlighting}
\end{Shaded}

\begin{verbatim}
C:\Users\shemerli\Anaconda3\envs\ds-env\lib\site-packages\IPython\core\formatters.py:343: FutureWarning: In future versions `DataFrame.to_latex` is expected to utilise the base implementation of `Styler.to_latex` for formatting and rendering. The arguments signature may therefore change. It is recommended instead to use `DataFrame.style.to_latex` which also contains additional functionality.
  return method()
\end{verbatim}

\begin{tabular}{llrrrr}
\toprule
        &      &  lifeExp\_mean &  lifeExp\_median &  lifeExp\_min &  lifeExp\_max \\
continent & year &               &                 &              &              \\
\midrule
Africa & 1997 &     53.598269 &         52.7590 &       36.087 &       74.772 \\
        & 2002 &     53.325231 &         51.2355 &       39.193 &       75.744 \\
        & 2007 &     54.806038 &         52.9265 &       39.613 &       76.442 \\
Americas & 1997 &     71.150480 &         72.1460 &       56.671 &       78.610 \\
        & 2002 &     72.422040 &         72.0470 &       58.137 &       79.770 \\
        & 2007 &     73.608120 &         72.8990 &       60.916 &       80.653 \\
Asia & 1997 &     68.020515 &         70.2650 &       41.763 &       80.690 \\
        & 2002 &     69.233879 &         71.0280 &       42.129 &       82.000 \\
        & 2007 &     70.728485 &         72.3960 &       43.828 &       82.603 \\
Europe & 1997 &     75.505167 &         76.1160 &       68.835 &       79.390 \\
        & 2002 &     76.700600 &         77.5365 &       70.845 &       80.620 \\
        & 2007 &     77.648600 &         78.6085 &       71.777 &       81.757 \\
Oceania & 1997 &     78.190000 &         78.1900 &       77.550 &       78.830 \\
        & 2002 &     79.740000 &         79.7400 &       79.110 &       80.370 \\
        & 2007 &     80.719500 &         80.7195 &       80.204 &       81.235 \\
\bottomrule
\end{tabular}

\end{tcolorbox}

By now you should be able to select the rows and columns, join together
dataframes, and create some basic summarizations of data. The next
section will look at some of the more sophisticated and elegant tools
for understanding and presenting your data. But the building blocks you
have just learned about are the meat and potatoes of data analysis in
the python world.

\bookmarksetup{startatroot}

\hypertarget{references}{%
\chapter*{References}\label{references}}
\addcontentsline{toc}{chapter}{References}

\hypertarget{refs}{}
\begin{CSLReferences}{0}{0}
\end{CSLReferences}



\end{document}
